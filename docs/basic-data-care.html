<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Kapitel 5 Letzte Vorbereitungen … | R4ews MA0009</title>
<meta name="author" content="Stephan Haug">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.2"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/jquery-3.5.1/jquery-3.5.1.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.5.3/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.5.3/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.2.3.9000/tabs.js"></script><script src="libs/bs3compat-0.2.3.9000/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script><link href="libs/font-awesome-5.1.0/css/all.css" rel="stylesheet">
<link href="libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet">
<script src="libs/kePrint-0.0.1/kePrint.js"></script><link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet">
<script src="anchor-links.js"></script><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-68219208-1"></script><script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
  
    gtag('config', 'UA-68219208-1');
    </script><script src="https://cdn.jsdelivr.net/autocomplete.js/0/autocomplete.jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/mark.js@8.11.1/dist/mark.min.js"></script><!-- CSS -->
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">R4ews MA0009</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html">Willkommen zu R4ews</a></li>
<li class="book-part">R, wie fange ich an</li>
<li><a class="" href="install.html"><span class="header-section-number">1</span> Installieren von R und RStudio</a></li>
<li><a class="" href="r-basics.html"><span class="header-section-number">2</span> R Basics und Arbeitsabläufe</a></li>
<li class="book-part">Versionskontrolle und R Markdown</li>
<li><a class="" href="version-control.html"><span class="header-section-number">3</span> Git, GitHub, and RStudio</a></li>
<li><a class="" href="r-markdown.html"><span class="header-section-number">4</span> R Markdown</a></li>
<li class="book-part">Datenanalyse Intro</li>
<li><a class="active" href="basic-data-care.html"><span class="header-section-number">5</span> Letzte Vorbereitungen …</a></li>
<li><a class="" href="dplyr-intro.html"><span class="header-section-number">6</span> Einführung in dplyr</a></li>
<li><a class="" href="dplyr-single.html"><span class="header-section-number">7</span> Mehr zu dplyr</a></li>
<li><a class="" href="import-export.html"><span class="header-section-number">8</span> Daten I/O</a></li>
<li><a class="" href="tidy.html"><span class="header-section-number">9</span> tidy ?</a></li>
<li class="book-part">ggplot2 Intro</li>
<li><a class="" href="graphics-overview.html"><span class="header-section-number">10</span> Einführung</a></li>
<li><a class="" href="bausteine.html"><span class="header-section-number">11</span> Bausteine</a></li>
<li class="book-part">Noch viel mehr möglich</li>
<li><a class="" href="packages.html"><span class="header-section-number">12</span> Pakete</a></li>
<li><a class="" href="funktionen.html"><span class="header-section-number">13</span> Funktionen</a></li>
<li><a class="" href="envscop.html"><span class="header-section-number">14</span> Environments und Scoping</a></li>
<li class="book-part">Appendix</li>
<li><a class="" href="fragen.html"><span class="header-section-number">15</span> Fragen und Anregungen aus der Übung</a></li>
<li><a class="" href="literatur-3.html">Literatur</a></li>
</ul>

        <div class="book-extra">
          
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="basic-data-care" class="section level1">
<h1>
<span class="header-section-number">Kapitel 5</span> Letzte Vorbereitungen …<a class="anchor" aria-label="anchor" href="#basic-data-care"><i class="fas fa-link"></i></a>
</h1>
<p>Jetzt ist es an der Zeit, sich zu vergewissern in welchem Verzeichnis auf deinem Computer du dich befindest. Falls du ein <a href="r-basics.html#rprojs">RStudio Projekt</a> nutzt, sollte diese Frage leicht zu beantworten sein. Falls du trotzdem unsicher bist, gib <code><a href="https://rdrr.io/r/base/getwd.html">getwd()</a></code> in der Konsole ein, um das aktuelle Arbeitsverzeichnis zu sehen.</p>
<p>Alle nachfolgenden Code Beispiele wollen wir abspeichern in einer <code>.R</code> Datei, die wir im aktuellen Arbeitsverzeichnis abspeichern wollen. Idealerweise geben wir dieser Datei noch einen Namen, wie etwa <code>datenanalyse_teil_1.R</code>, der uns schon viel über den möglichen Inhalt erzählt.
Alternativ können wir alle Befehle natürlich auch in eine R Markdown Datei schreiben, siehe <a href="r-markdown.html#r-markdown">Test drive R Markdown</a>.</p>
<p>Prinzipiell geht es in den folgenden Abschnitten um Datenmanagement. Es werden aber auch immer wieder ein paar Grafiken zu sehen sein. Dies ist aber kein Problem, da wir ja bereits den <a href="https://rstudio.cloud/learn/primers/1.1">Data Visualization Basics Primer</a></p>
<div class="inline-figure"><img src="img/data_vis_basics.png" width="100%"></div>
<p>besucht haben und so den nötigen Background haben.</p>
<div id="data-frames-sind-fantastisch" class="section level2">
<h2>
<span class="header-section-number">5.1</span> Data Frames sind fantastisch<a class="anchor" aria-label="anchor" href="#data-frames-sind-fantastisch"><i class="fas fa-link"></i></a>
</h2>
<p>Das Standardformat für Daten ist ein data frame. Die meisten Funktionen zur Inferenz, Modellierung und graphischen Darstellung erwarten, dass ihnen über ein <code>data =</code> Argument ein data frame übergeben wird. Dies gilt für die Basis R schon seit langem.</p>
<p>Die als <a href="https://tidyverse.tidyverse.org">tidyverse</a> bekannte Kollektion von Paketen geht noch einen Schritt weiter und priorisiert ausdrücklich die Verarbeitung von data frames. Tatsächlich priorisiert <a href="https://tidyverse.tidyverse.org">tidyverse</a> eine besondere Art von data frames, die als “tibble” bezeichnet wird.</p>
<p>Data frames - im Gegensatz zu allgemeinen Arrays oder speziell Matrizen in R - können Variablen unterschiedlicher Typen enthalten, wie z. B. Textdaten (Subjekt-ID oder Name), quantitative Daten (Anzahl der weißen Blutkörperchen) und kategoriale Informationen (behandelt vs. unbehandelt). Genauer gesagt können in data frames unterschiedliche Spalten aus unterschiedlichen Datentypen bestehen. Innerhalb einer Spalte müssen aber alle Einträge vom gleichen Typ sein.</p>
<p>Daten aus einer Datenanalyse bestehen immer aus mehr als einem Datentyp. Aus diesem Grund können Matrizen oder Arrays nicht zur Datenanalyse verwendet werden, da man sonst mit verschiedenen, unverbundenen Objekten (Matrizen, Arrays) arbeiten müsste und diese nur schwer koordinieren kann.</p>
</div>
<div id="gapminder-data" class="section level2">
<h2>
<span class="header-section-number">5.2</span> Gapminder data<a class="anchor" aria-label="anchor" href="#gapminder-data"><i class="fas fa-link"></i></a>
</h2>
<p>Wir werden mit einigen der Daten aus dem [Gapminder-Projekt] (<a href="https://www.gapminder.org" class="uri">https://www.gapminder.org</a>)</p>
<div class="inline-figure"><img src="img/gapminder.png" width="406" style="display: block; margin: auto;"></div>
<p>arbeiten. Die Daten sind im <a href="https://github.com/jennybc/gapminder">gapminder</a> Paket enthalten, welches wir über CRAN installieren können:</p>
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html">install.packages</a></span><span class="op">(</span><span class="st">"gapminder"</span><span class="op">)</span></code></pre></div>
<p>Um die Daten zu verwenden, müssen wir das Paket natürlich auch noch laden</p>
<div class="sourceCode" id="cb26"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/jennybc/gapminder">gapminder</a></span><span class="op">)</span></code></pre></div>
</div>
<div id="die-gapminder-daten-sind-ein-tibble" class="section level2">
<h2>
<span class="header-section-number">5.3</span> Die <code>gapminder</code> Daten sind ein “tibble”<a class="anchor" aria-label="anchor" href="#die-gapminder-daten-sind-ein-tibble"><i class="fas fa-link"></i></a>
</h2>
<p>Durch das Laden des <code>gapminder</code> Pakets haben wir nun Zugriff auf einen Datenobjekt mit demselben Namen. Schau dir nun mithilfe der Funktion <code><a href="https://rdrr.io/r/utils/str.html">str()</a></code> die Struktur des Objekts an.</p>
<div class="sourceCode" id="cb27"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/str.html">str</a></span><span class="op">(</span><span class="va">gapminder</span><span class="op">)</span>
<span class="co">#&gt; tibble [1,704 × 6] (S3: tbl_df/tbl/data.frame)</span>
<span class="co">#&gt;  $ country  : Factor w/ 142 levels "Afghanistan",..: 1 1 1 1 1 1 1 1 1 1 ...</span>
<span class="co">#&gt;  $ continent: Factor w/ 5 levels "Africa","Americas",..: 3 3 3 3 3 3 3 3 3 3 ...</span>
<span class="co">#&gt;  $ year     : int [1:1704] 1952 1957 1962 1967 1972 1977 1982 1987 1992 1997 ...</span>
<span class="co">#&gt;  $ lifeExp  : num [1:1704] 28.8 30.3 32 34 36.1 ...</span>
<span class="co">#&gt;  $ pop      : int [1:1704] 8425333 9240934 10267083 11537966 13079460 14880372..</span>
<span class="co">#&gt;  $ gdpPercap: num [1:1704] 779 821 853 836 740 ...</span></code></pre></div>
<p><code><a href="https://rdrr.io/r/utils/str.html">str()</a></code> liefert eine vernünftige Beschreibung von fast allem, und im schlimmsten Fall kann tatsächlich auch nichts “Schlimmes” passieren. Aus dem Output erkennen wir, dass der Datensatz 1704 Beobachtungen enthält.</p>
<p>Auf der anderen Seite hätten wir durch direkten Aufruf von <code>gapminder</code> den Inhalt auch direkt auf den Bildschirm schreiben können. Aber vielleicht hast du schon mal einen größeren Datensatz aufgerufen und zögerst nun etwas, da große Datensätze einfach die Konsole füllen und nur sehr wenig Einblick bieten.</p>
<p>Dies ist der erste große Sieg für <strong>tibbles</strong>. Tidyverse bietet eine spezielle data frame Variante an: ein “tibble”. Dies wird auch verdeutlicht, wenn man sich z.B. die Klasse des <code>gapminder</code> Objekts anschaut</p>
<div class="sourceCode" id="cb28"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/class.html">class</a></span><span class="op">(</span><span class="va">gapminder</span><span class="op">)</span>
<span class="co">#&gt; [1] "tbl_df"     "tbl"        "data.frame"</span></code></pre></div>
<p>Schau, es ist immer noch ein reguläres data frame, aber eben auch ein tibble.</p>
<p>Jetzt können wir <code>gapminder</code> einfach auf den Bildschirm anzeigen! Da es sich um ein tibble handelt, wird nur das Wichtigste angezeigt und deine Konsole läuft nicht voll.</p>
<div class="sourceCode" id="cb29"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">gapminder</span>
<span class="co">#&gt; # A tibble: 1,704 x 6</span>
<span class="co">#&gt;    country     continent  year lifeExp      pop gdpPercap</span>
<span class="co">#&gt;    &lt;fct&gt;       &lt;fct&gt;     &lt;int&gt;   &lt;dbl&gt;    &lt;int&gt;     &lt;dbl&gt;</span>
<span class="co">#&gt;  1 Afghanistan Asia       1952    28.8  8425333      779.</span>
<span class="co">#&gt;  2 Afghanistan Asia       1957    30.3  9240934      821.</span>
<span class="co">#&gt;  3 Afghanistan Asia       1962    32.0 10267083      853.</span>
<span class="co">#&gt;  4 Afghanistan Asia       1967    34.0 11537966      836.</span>
<span class="co">#&gt;  5 Afghanistan Asia       1972    36.1 13079460      740.</span>
<span class="co">#&gt;  6 Afghanistan Asia       1977    38.4 14880372      786.</span>
<span class="co">#&gt;  7 Afghanistan Asia       1982    39.9 12881816      978.</span>
<span class="co">#&gt;  8 Afghanistan Asia       1987    40.8 13867957      852.</span>
<span class="co">#&gt;  9 Afghanistan Asia       1992    41.7 16317921      649.</span>
<span class="co">#&gt; 10 Afghanistan Asia       1997    41.8 22227415      635.</span>
<span class="co">#&gt; # … with 1,694 more rows</span></code></pre></div>
<p>Wenn du mit einem reinen data frame arbeitest - und dieses Feature magst - kannst du es mit <code>as_tibble()</code> in ein tibble transformieren.</p>
<div class="sourceCode" id="cb30"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="http://tidyverse.tidyverse.org">tidyverse</a></span><span class="op">)</span>
<span class="fu">as_tibble</span><span class="op">(</span><span class="va">iris</span><span class="op">)</span>
<span class="co">#&gt; # A tibble: 150 x 5</span>
<span class="co">#&gt;    Sepal.Length Sepal.Width Petal.Length Petal.Width Species</span>
<span class="co">#&gt;           &lt;dbl&gt;       &lt;dbl&gt;        &lt;dbl&gt;       &lt;dbl&gt; &lt;fct&gt;  </span>
<span class="co">#&gt;  1          5.1         3.5          1.4         0.2 setosa </span>
<span class="co">#&gt;  2          4.9         3            1.4         0.2 setosa </span>
<span class="co">#&gt;  3          4.7         3.2          1.3         0.2 setosa </span>
<span class="co">#&gt;  4          4.6         3.1          1.5         0.2 setosa </span>
<span class="co">#&gt;  5          5           3.6          1.4         0.2 setosa </span>
<span class="co">#&gt;  6          5.4         3.9          1.7         0.4 setosa </span>
<span class="co">#&gt;  7          4.6         3.4          1.4         0.3 setosa </span>
<span class="co">#&gt;  8          5           3.4          1.5         0.2 setosa </span>
<span class="co">#&gt;  9          4.4         2.9          1.4         0.2 setosa </span>
<span class="co">#&gt; 10          4.9         3.1          1.5         0.1 setosa </span>
<span class="co">#&gt; # … with 140 more rows</span></code></pre></div>
<p>Weitere Möglichkeiten, grundlegende Informationen zu einem data frame abzufragen:</p>
<div class="sourceCode" id="cb31"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/names.html">names</a></span><span class="op">(</span><span class="va">gapminder</span><span class="op">)</span>
<span class="co">#&gt; [1] "country"   "continent" "year"      "lifeExp"   "pop"       "gdpPercap"</span>
<span class="fu"><a href="https://rdrr.io/r/base/nrow.html">ncol</a></span><span class="op">(</span><span class="va">gapminder</span><span class="op">)</span>
<span class="co">#&gt; [1] 6</span>
<span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="va">gapminder</span><span class="op">)</span>
<span class="co">#&gt; [1] 6</span>
<span class="fu"><a href="https://rdrr.io/r/base/dim.html">dim</a></span><span class="op">(</span><span class="va">gapminder</span><span class="op">)</span>
<span class="co">#&gt; [1] 1704    6</span>
<span class="fu"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span><span class="op">(</span><span class="va">gapminder</span><span class="op">)</span>
<span class="co">#&gt; [1] 1704</span></code></pre></div>
<p>Ein bisschen deskriptive Statistik zum Inhalt eines data frames erhältst du mit <code><a href="https://rdrr.io/r/base/summary.html">summary()</a></code>:</p>
<div class="sourceCode" id="cb32"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/summary.html">summary</a></span><span class="op">(</span><span class="va">gapminder</span><span class="op">)</span>
<span class="co">#&gt;         country        continent        year         lifeExp    </span>
<span class="co">#&gt;  Afghanistan:  12   Africa  :624   Min.   :1952   Min.   :23.6  </span>
<span class="co">#&gt;  Albania    :  12   Americas:300   1st Qu.:1966   1st Qu.:48.2  </span>
<span class="co">#&gt;  Algeria    :  12   Asia    :396   Median :1980   Median :60.7  </span>
<span class="co">#&gt;  Angola     :  12   Europe  :360   Mean   :1980   Mean   :59.5  </span>
<span class="co">#&gt;  Argentina  :  12   Oceania : 24   3rd Qu.:1993   3rd Qu.:70.8  </span>
<span class="co">#&gt;  Australia  :  12                  Max.   :2007   Max.   :82.6  </span>
<span class="co">#&gt;  (Other)    :1632                                               </span>
<span class="co">#&gt;       pop             gdpPercap     </span>
<span class="co">#&gt;  Min.   :6.00e+04   Min.   :   241  </span>
<span class="co">#&gt;  1st Qu.:2.79e+06   1st Qu.:  1202  </span>
<span class="co">#&gt;  Median :7.02e+06   Median :  3532  </span>
<span class="co">#&gt;  Mean   :2.96e+07   Mean   :  7215  </span>
<span class="co">#&gt;  3rd Qu.:1.96e+07   3rd Qu.:  9325  </span>
<span class="co">#&gt;  Max.   :1.32e+09   Max.   :113523  </span>
<span class="co">#&gt; </span></code></pre></div>
<blockquote>
<p><strong>Bemerkung:</strong> <code><a href="https://rdrr.io/r/base/summary.html">summary()</a></code> ist eine generische Funktion. Für eine gegebene Klasse (des Inputs) bestimmt die generische Funktion die passende Methode. Die Funktion <code><a href="https://rdrr.io/r/base/summary.html">summary()</a></code> besitzt die folgenden Methoden:</p>
</blockquote>
<div class="sourceCode" id="cb33"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/methods.html">methods</a></span><span class="op">(</span><span class="va">summary</span><span class="op">)</span>
<span class="co">#&gt;  [1] summary,ANY-method             summary,DBIObject-method      </span>
<span class="co">#&gt;  [3] summary.aov                    summary.aovlist*              </span>
<span class="co">#&gt;  [5] summary.aspell*                summary.check_packages_in_dir*</span>
<span class="co">#&gt;  [7] summary.connection             summary.data.frame            </span>
<span class="co">#&gt;  [9] summary.Date                   summary.default               </span>
<span class="co">#&gt; [11] summary.Duration*              summary.ecdf*                 </span>
<span class="co">#&gt; [13] summary.factor                 summary.ggplot*               </span>
<span class="co">#&gt; [15] summary.glm                    summary.haven_labelled*       </span>
<span class="co">#&gt; [17] summary.hcl_palettes*          summary.infl*                 </span>
<span class="co">#&gt; [19] summary.Interval*              summary.lm                    </span>
<span class="co">#&gt; [21] summary.loess*                 summary.manova                </span>
<span class="co">#&gt; [23] summary.matrix                 summary.mlm*                  </span>
<span class="co">#&gt; [25] summary.nls*                   summary.packageStatus*        </span>
<span class="co">#&gt; [27] summary.Period*                summary.POSIXct               </span>
<span class="co">#&gt; [29] summary.POSIXlt                summary.ppr*                  </span>
<span class="co">#&gt; [31] summary.prcomp*                summary.princomp*             </span>
<span class="co">#&gt; [33] summary.proc_time              summary.rlang_error*          </span>
<span class="co">#&gt; [35] summary.rlang_trace*           summary.srcfile               </span>
<span class="co">#&gt; [37] summary.srcref                 summary.stepfun               </span>
<span class="co">#&gt; [39] summary.stl*                   summary.table                 </span>
<span class="co">#&gt; [41] summary.tukeysmooth*           summary.vctrs_sclr*           </span>
<span class="co">#&gt; [43] summary.vctrs_vctr*            summary.warnings              </span>
<span class="co">#&gt; see '?methods' for accessing help and source code</span></code></pre></div>
<p>Obwohl wir uns formell noch nicht eingehender mit der Visualisierung beschäftigt haben, ist es wichtig ein paar Grafiken zu erzeugen um einen ersten Eindruck über den Datensatz zu bekommen. Auf der anderen Seite werden die Grafiken aber auch nicht (viel) aufwendiger als im Data Visualisation Basics Primer</p>
<div class="sourceCode" id="cb34"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">ggplot</span><span class="op">(</span><span class="va">gapminder</span>, mapping <span class="op">=</span> <span class="fu">aes</span><span class="op">(</span>x <span class="op">=</span> <span class="va">year</span>, y <span class="op">=</span> <span class="va">lifeExp</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
         <span class="fu">geom_point</span><span class="op">(</span><span class="op">)</span></code></pre></div>
<div class="inline-figure"><img src="05_data-care-feeding_files/figure-html/first-plots-base-R-1.png" width="672"></div>
<div class="sourceCode" id="cb35"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">ggplot</span><span class="op">(</span><span class="va">gapminder</span>, mapping <span class="op">=</span> <span class="fu">aes</span><span class="op">(</span>x <span class="op">=</span> <span class="va">gdpPercap</span>, y <span class="op">=</span> <span class="va">lifeExp</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
         <span class="fu">geom_point</span><span class="op">(</span><span class="op">)</span></code></pre></div>
<div class="inline-figure"><img src="05_data-care-feeding_files/figure-html/first-plots-base-R-2.png" width="672"></div>
<div class="sourceCode" id="cb36"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">ggplot</span><span class="op">(</span><span class="va">gapminder</span>, mapping <span class="op">=</span> <span class="fu">aes</span><span class="op">(</span>x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html">log</a></span><span class="op">(</span><span class="va">gdpPercap</span><span class="op">)</span>, y <span class="op">=</span> <span class="va">lifeExp</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
         <span class="fu">geom_point</span><span class="op">(</span><span class="op">)</span></code></pre></div>
<div class="inline-figure"><img src="05_data-care-feeding_files/figure-html/first-plots-base-R-3.png" width="672"></div>
<p>Grafiken dieser Art werden wir zu einem späteren Zeitpunkt noch genauer behandeln. Dann sprechen wir auch über deren Inhalt.</p>
<p>Wir schauen uns nochmal die Ausgabe von <code><a href="https://rdrr.io/r/utils/str.html">str()</a></code> an, um darüber zu sprechen, was ein data frame genau ist.</p>
<div class="sourceCode" id="cb37"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/str.html">str</a></span><span class="op">(</span><span class="va">gapminder</span><span class="op">)</span>
<span class="co">#&gt; tibble [1,704 × 6] (S3: tbl_df/tbl/data.frame)</span>
<span class="co">#&gt;  $ country  : Factor w/ 142 levels "Afghanistan",..: 1 1 1 1 1 1 1 1 1 1 ...</span>
<span class="co">#&gt;  $ continent: Factor w/ 5 levels "Africa","Americas",..: 3 3 3 3 3 3 3 3 3 3 ...</span>
<span class="co">#&gt;  $ year     : int [1:1704] 1952 1957 1962 1967 1972 1977 1982 1987 1992 1997 ...</span>
<span class="co">#&gt;  $ lifeExp  : num [1:1704] 28.8 30.3 32 34 36.1 ...</span>
<span class="co">#&gt;  $ pop      : int [1:1704] 8425333 9240934 10267083 11537966 13079460 14880372..</span>
<span class="co">#&gt;  $ gdpPercap: num [1:1704] 779 821 853 836 740 ...</span></code></pre></div>
<p>Ein data frame ist ein Sonderfall einer <em>Liste</em>, die in R verwendet wird, um so gut wie alles aufzunehmen. Data frames sind ein Spezialfall, bei dem die Länge jedes Listenelements gleich ist.</p>
<p>Nehmen wir mal an, dass wir eine Beschreibung der Variablen</p>
<div class="sourceCode" id="cb38"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/names.html">names</a></span><span class="op">(</span><span class="va">gapminder</span><span class="op">)</span>
<span class="co">#&gt; [1] "country"   "continent" "year"      "lifeExp"   "pop"       "gdpPercap"</span></code></pre></div>
<p>zusammen mit den Daten abspeichern wollen. Dazu könnten wir ein tibble</p>
<div class="sourceCode" id="cb39"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="op">(</span><span class="va">desc</span> <span class="op">&lt;-</span> <span class="fu">tibble</span><span class="op">(</span>variables <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/names.html">names</a></span><span class="op">(</span><span class="va">gapminder</span><span class="op">)</span>,
               desc <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"factor with 142 levels"</span>, <span class="st">"factor with 5 levels"</span>,
                        <span class="st">"ranges from 1952 to 2007 in increments of 5 years"</span>,
                        <span class="st">"life expectancy at birth, in years"</span>,
                        <span class="st">"population"</span>,<span class="st">"GDP per capita (US$, inflation-adjusted)"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; # A tibble: 6 x 2</span>
<span class="co">#&gt;   variables desc                                             </span>
<span class="co">#&gt;   &lt;chr&gt;     &lt;chr&gt;                                            </span>
<span class="co">#&gt; 1 country   factor with 142 levels                           </span>
<span class="co">#&gt; 2 continent factor with 5 levels                             </span>
<span class="co">#&gt; 3 year      ranges from 1952 to 2007 in increments of 5 years</span>
<span class="co">#&gt; 4 lifeExp   life expectancy at birth, in years               </span>
<span class="co">#&gt; 5 pop       population                                       </span>
<span class="co">#&gt; 6 gdpPercap GDP per capita (US$, inflation-adjusted)</span></code></pre></div>
<p>erzeugen, das die Beschreibungen enthält. Dieses data frame hat nun die Dimension 6x2. Trotzdem können wir es mit <code>gapminder</code> kombinieren, wenn wir beide tibbles in einer Liste abspeichern</p>
<div class="sourceCode" id="cb40"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">gapminder_desc</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span><span class="va">gapminder</span>, <span class="va">desc</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/utils/str.html">str</a></span><span class="op">(</span><span class="va">gapminder_desc</span><span class="op">)</span>
<span class="co">#&gt; List of 2</span>
<span class="co">#&gt;  $ : tibble [1,704 × 6] (S3: tbl_df/tbl/data.frame)</span>
<span class="co">#&gt;   ..$ country  : Factor w/ 142 levels "Afghanistan",..: 1 1 1 1 1 1 1 1 1 1 ...</span>
<span class="co">#&gt;   ..$ continent: Factor w/ 5 levels "Africa","Americas",..: 3 3 3 3 3 3 3 3 3 ..</span>
<span class="co">#&gt;   ..$ year     : int [1:1704] 1952 1957 1962 1967 1972 1977 1982 1987 1992 199..</span>
<span class="co">#&gt;   ..$ lifeExp  : num [1:1704] 28.8 30.3 32 34 36.1 ...</span>
<span class="co">#&gt;   ..$ pop      : int [1:1704] 8425333 9240934 10267083 11537966 13079460 14880..</span>
<span class="co">#&gt;   ..$ gdpPercap: num [1:1704] 779 821 853 836 740 ...</span>
<span class="co">#&gt;  $ : tibble [6 × 2] (S3: tbl_df/tbl/data.frame)</span>
<span class="co">#&gt;   ..$ variables: chr [1:6] "country" "continent" "year" "lifeExp" ...</span>
<span class="co">#&gt;   ..$ desc     : chr [1:6] "factor with 142 levels" "factor with 5 levels" "r"..</span></code></pre></div>
</div>
<div id="variablen-in-einem-data-frame" class="section level2">
<h2>
<span class="header-section-number">5.4</span> Variablen in einem Data Frame<a class="anchor" aria-label="anchor" href="#variablen-in-einem-data-frame"><i class="fas fa-link"></i></a>
</h2>
<p>Um eine einzelne Variable aus einem data frame anzusprechen, kann man mit dem Dollarzeichen <code><a href="https://rdrr.io/r/base/Extract.html">$</a></code> arbeiten. Wir schauen uns dazu die numerische Variable <code>lifeExp</code> an.</p>
<div class="sourceCode" id="cb41"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">gapminder</span><span class="op">$</span><span class="va">lifeExp</span><span class="op">)</span>
<span class="co">#&gt; [1] 28.8 30.3 32.0 34.0 36.1 38.4</span>
<span class="fu"><a href="https://rdrr.io/r/base/summary.html">summary</a></span><span class="op">(</span><span class="va">gapminder</span><span class="op">$</span><span class="va">lifeExp</span><span class="op">)</span>
<span class="co">#&gt;    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. </span>
<span class="co">#&gt;    23.6    48.2    60.7    59.5    70.8    82.6</span></code></pre></div>
<p>Zusätzlich wollen wir die noch die Verteilung von <code>lifeExp</code> visualisieren und plotten dazu ein Histogramm. Da wir dazu <code>ggplot()</code> verwenden, können wir <code>lifeExp</code> wieder direkt aufrufen.</p>
<div class="sourceCode" id="cb42"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">ggplot</span><span class="op">(</span><span class="va">gapminder</span>, mapping <span class="op">=</span> <span class="fu">aes</span><span class="op">(</span>x <span class="op">=</span> <span class="va">lifeExp</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> 
  <span class="fu">geom_histogram</span><span class="op">(</span><span class="op">)</span>
<span class="co">#&gt; `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</span></code></pre></div>
<div class="inline-figure"><img src="05_data-care-feeding_files/figure-html/unnamed-chunk-17-1.png" width="672"></div>
<p>Alternativ können wir die Einträge eines data frames auch über die eckigen Klammern <code>[]</code> indizieren.</p>
<div class="sourceCode" id="cb43"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/summary.html">summary</a></span><span class="op">(</span><span class="va">gapminder</span><span class="op">[</span>,<span class="st">"lifeExp"</span><span class="op">]</span><span class="op">)</span>
<span class="co">#&gt;     lifeExp    </span>
<span class="co">#&gt;  Min.   :23.6  </span>
<span class="co">#&gt;  1st Qu.:48.2  </span>
<span class="co">#&gt;  Median :60.7  </span>
<span class="co">#&gt;  Mean   :59.5  </span>
<span class="co">#&gt;  3rd Qu.:70.8  </span>
<span class="co">#&gt;  Max.   :82.6</span></code></pre></div>
<p>Dabei spezifiziert der Eintrag links vom Komma die Zeilen und der Wert rechts davon die Spalten. Dies ist hilfreich, wenn man auf einzelne Werte zugreifen will. Aber beim Aufruf einer kompletten Variable (Spalte) ist die <code><a href="https://rdrr.io/r/base/Extract.html">$</a></code> Notation sicherlich vorteilhaft.</p>
<p>Die Variable <code>year</code> ist eine ganzzahlige Variable, aber da es so wenige unterschiedliche Werte gibt, funktioniert sie auch ein wenig wie eine kategoriale Variable.</p>
<div class="sourceCode" id="cb44"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/summary.html">summary</a></span><span class="op">(</span><span class="va">gapminder</span><span class="op">$</span><span class="va">year</span><span class="op">)</span>
<span class="co">#&gt;    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. </span>
<span class="co">#&gt;    1952    1966    1980    1980    1993    2007</span>
<span class="fu"><a href="https://rdrr.io/r/base/table.html">table</a></span><span class="op">(</span><span class="va">gapminder</span><span class="op">$</span><span class="va">year</span><span class="op">)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; 1952 1957 1962 1967 1972 1977 1982 1987 1992 1997 2002 2007 </span>
<span class="co">#&gt;  142  142  142  142  142  142  142  142  142  142  142  142</span></code></pre></div>
<p>Die Variablen <code>country</code> und <code>continent</code> enthalten rein kategorische Informationen, die in R (häufig) als <em>factor</em> gespeichert werden.</p>
<div class="sourceCode" id="cb45"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/class.html">class</a></span><span class="op">(</span><span class="va">gapminder</span><span class="op">$</span><span class="va">continent</span><span class="op">)</span>
<span class="co">#&gt; [1] "factor"</span>
<span class="fu"><a href="https://rdrr.io/r/base/summary.html">summary</a></span><span class="op">(</span><span class="va">gapminder</span><span class="op">$</span><span class="va">continent</span><span class="op">)</span>
<span class="co">#&gt;   Africa Americas     Asia   Europe  Oceania </span>
<span class="co">#&gt;      624      300      396      360       24</span>
<span class="fu"><a href="https://rdrr.io/r/base/levels.html">levels</a></span><span class="op">(</span><span class="va">gapminder</span><span class="op">$</span><span class="va">continent</span><span class="op">)</span>
<span class="co">#&gt; [1] "Africa"   "Americas" "Asia"     "Europe"   "Oceania"</span>
<span class="fu"><a href="https://rdrr.io/r/base/nlevels.html">nlevels</a></span><span class="op">(</span><span class="va">gapminder</span><span class="op">$</span><span class="va">continent</span><span class="op">)</span>
<span class="co">#&gt; [1] 5</span></code></pre></div>
<p>Die <strong>Levels</strong> von <code>continent</code> sind “Afrika”, “America” usw., und das ist es, was einem normalerweise in R angezeigt werden sollte, wenn man eine Faktorvariable aufruft. Im Allgemeinen sind die Levels von Menschen lesbare Zeichenfolgen, wie “male/female” und “control/treated”. Aber vergiss <em>niemals</em>, dass R diese Information in kodierter Form speichert. Schauen dir zum Beispiel das Ergebnis von <code><a href="https://rdrr.io/r/utils/str.html">str(gapminder$continent)</a></code> an, falls du skeptisch sein solltest.</p>
<div class="sourceCode" id="cb46"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/str.html">str</a></span><span class="op">(</span><span class="va">gapminder</span><span class="op">$</span><span class="va">continent</span><span class="op">)</span>
<span class="co">#&gt;  Factor w/ 5 levels "Africa","Americas",..: 3 3 3 3 3 3 3 3 3 3 ...</span></code></pre></div>
<p>Faktorvariablen haben Vor- und Nachteil. Im weiteren Verlauf zeigen wir sowohl die Vor- wie auch die Nachteile. Generell ist aber durchaus so, dass die Vorteile überwiegen.</p>
<p>Als Nächstes erstellen wir mit der Funktion <code><a href="https://rdrr.io/r/base/table.html">table()</a></code> eine Häufigkeitstabelle für die Variable <code>count</code>. Dieser Inhalt wird anschließend visualisiert über die Funktion <code>geom_bar()</code>. Die entsprechende Berechnung der Häufigkeitstabelle wird dabei aber sowohl von <code><a href="https://rdrr.io/r/base/table.html">table()</a></code> wie auch von <code>geom_bar()</code> (über die statistische Transformation <code>stat_count()</code>) durchgeführt, oder anders gesagt, wir können an <code>geom_bar()</code> den Datensatz (hier <code>gapminder</code>) anstatt von vorab berechneten Werten übergeben.</p>
<div class="sourceCode" id="cb47"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/table.html">table</a></span><span class="op">(</span><span class="va">gapminder</span><span class="op">$</span><span class="va">continent</span><span class="op">)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;   Africa Americas     Asia   Europe  Oceania </span>
<span class="co">#&gt;      624      300      396      360       24</span>
<span class="fu">ggplot</span><span class="op">(</span><span class="va">gapminder</span>, <span class="fu">aes</span><span class="op">(</span>x <span class="op">=</span> <span class="va">continent</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> <span class="fu">geom_bar</span><span class="op">(</span><span class="op">)</span></code></pre></div>
<div class="inline-figure"><img src="05_data-care-feeding_files/figure-html/tabulate-continent-1.png" width="672"></div>
<p>In den folgenden Abbildungen sehen wir, wie Faktoren in Zahlen umgesetzt werden können. Der <code>continent</code>-Faktor lässt sich durch das <a href="https://ggplot2.tidyverse.org">ggplot2</a>-Paket leicht in “Facetten” oder Farben und eine Legende abbilden.</p>
<p><em>Die Erstellung von Grafiken mit ggplot2 werden wir noch genauer besprechen. Daher kannst du dich also ruhig zurücklehnen und die Plots genießen oder blind kopieren/einfügen.</em></p>
<div class="sourceCode" id="cb48"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># wir initialisieren ein grafik (ohne inhalt)</span>
<span class="va">p</span> <span class="op">&lt;-</span> <span class="fu">ggplot</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/filter.html">filter</a></span><span class="op">(</span><span class="va">gapminder</span>, <span class="va">continent</span> <span class="op">!=</span> <span class="st">"Oceania"</span><span class="op">)</span>,
            <span class="fu">aes</span><span class="op">(</span>x <span class="op">=</span> <span class="va">gdpPercap</span>, y <span class="op">=</span> <span class="va">lifeExp</span><span class="op">)</span><span class="op">)</span>  
<span class="va">p</span> <span class="op">&lt;-</span> <span class="va">p</span> <span class="op">+</span> <span class="fu">scale_x_log10</span><span class="op">(</span><span class="op">)</span> <span class="co"># auf der x-achse soll eine log skala verwendet werden</span>
<span class="va">p</span> <span class="op">+</span> <span class="fu">geom_point</span><span class="op">(</span><span class="op">)</span> <span class="co"># ein scatterplot</span>
<span class="va">p</span> <span class="op">+</span> <span class="fu">geom_point</span><span class="op">(</span><span class="fu">aes</span><span class="op">(</span>color <span class="op">=</span> <span class="va">continent</span><span class="op">)</span><span class="op">)</span> <span class="co"># für verschiedene kontinente werden verschiedene farben verwendet</span>
<span class="va">p</span> <span class="op">+</span> <span class="fu">geom_point</span><span class="op">(</span>alpha <span class="op">=</span> <span class="op">(</span><span class="fl">1</span><span class="op">/</span><span class="fl">3</span><span class="op">)</span>, size <span class="op">=</span> <span class="fl">3</span><span class="op">)</span> <span class="op">+</span> <span class="co"># punkte mit transparenz</span>
  <span class="fu">geom_smooth</span><span class="op">(</span>lwd <span class="op">=</span> <span class="fl">3</span>, se <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="co"># geglätter zusammenhang</span>
<span class="co">#&gt; `geom_smooth()` using method = 'gam' and formula 'y ~ s(x, bs = "cs")'</span>
<span class="va">p</span> <span class="op">+</span> <span class="fu">geom_point</span><span class="op">(</span>alpha <span class="op">=</span> <span class="op">(</span><span class="fl">1</span><span class="op">/</span><span class="fl">3</span><span class="op">)</span>, size <span class="op">=</span> <span class="fl">3</span><span class="op">)</span> <span class="op">+</span> 
  <span class="fu">facet_wrap</span><span class="op">(</span><span class="op">~</span> <span class="va">continent</span><span class="op">)</span> <span class="op">+</span> <span class="co"># für jeden kontinent wird eine eigener</span>
  <span class="co"># plot (innerhalb einer grafik) erzeugt</span>
  <span class="fu">geom_smooth</span><span class="op">(</span>lwd <span class="op">=</span> <span class="fl">1.5</span>, se <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span>
<span class="co">#&gt; `geom_smooth()` using method = 'loess' and formula 'y ~ x'</span></code></pre></div>
<p><img src="05_data-care-feeding_files/figure-html/factors-nice-for-plots-1.png" width="49%"><img src="05_data-care-feeding_files/figure-html/factors-nice-for-plots-2.png" width="49%"><img src="05_data-care-feeding_files/figure-html/factors-nice-for-plots-3.png" width="49%"><img src="05_data-care-feeding_files/figure-html/factors-nice-for-plots-4.png" width="49%"></p>
</div>
<div id="recap" class="section level2">
<h2>
<span class="header-section-number">5.5</span> Recap<a class="anchor" aria-label="anchor" href="#recap"><i class="fas fa-link"></i></a>
</h2>
<ul>
<li><p>Benutze data frames!!!</p></li>
<li><p>Benutze <a href="https://tidyverse.tidyverse.org">tidyverse</a>!!! Dadurch wird eine spezielle Art von data frames, ein “tibble”, bereitgestellt, die neben anderen Vorteilen ein nettes Standarddruckverhalten aufweist.</p></li>
<li><p>Im Zweifelsfall kannst du dir immer Inhalte anzeigen lassen über <code><a href="https://rdrr.io/r/utils/str.html">str()</a></code> oder im Fall eines tibbles, einfach das tibble selbst aufrufen.</p></li>
<li><p>Sei dir immer über die Anzahl an Zeilen und Spalten deiner data frames bewusst.</p></li>
<li><p>Sei dir im Klaren welche Art (numerisch, kategorial, …) von Variablen in deinen data frames enthalten sind.</p></li>
<li><p>Benutze factors!!! Aber mach das bewusst und mit Vorsicht.</p></li>
<li><p>Führe für jede Variable eine grundlegende statistische und visuelle Überprüfung durch.</p></li>
<li><p>Ruf Variablen mit ihrem Namen auf, z.B. <code>gapminder$lifeExp</code>, nicht mit der Spaltennummer. Dein Code wird dadurch robuster und lesbarer sein.</p></li>
</ul>
<!--STAT 545 external resources/content--><!--Packages: main link--><!--Packages: vignettes & CRAN/GitHub links--><!--Bookdowns: main link--><!--Bookdowns: specific chapters--><!--RStudio Cheat Sheets--><!--Blog posts, slides, & papers--><!--Papers/Books Cited--><!--Misc.-->
</div>
</div>
  <div class="chapter-nav">
<div class="prev"><a href="r-markdown.html"><span class="header-section-number">4</span> R Markdown</a></div>
<div class="next"><a href="dplyr-intro.html"><span class="header-section-number">6</span> Einführung in dplyr</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#basic-data-care"><span class="header-section-number">5</span> Letzte Vorbereitungen …</a></li>
<li><a class="nav-link" href="#data-frames-sind-fantastisch"><span class="header-section-number">5.1</span> Data Frames sind fantastisch</a></li>
<li><a class="nav-link" href="#gapminder-data"><span class="header-section-number">5.2</span> Gapminder data</a></li>
<li><a class="nav-link" href="#die-gapminder-daten-sind-ein-tibble"><span class="header-section-number">5.3</span> Die gapminder Daten sind ein “tibble”</a></li>
<li><a class="nav-link" href="#variablen-in-einem-data-frame"><span class="header-section-number">5.4</span> Variablen in einem Data Frame</a></li>
<li><a class="nav-link" href="#recap"><span class="header-section-number">5.5</span> Recap</a></li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
          
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>R4ews MA0009</strong>" was written by Stephan Haug. </p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer><!-- dynamically load mathjax for compatibility with self-contained --><script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>
</html>
