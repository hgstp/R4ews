<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Kapitel 5 Letzte Vorbereitungen … | R4ews MA0009</title>
  <meta name="description" content="R4ews: R Ergänzung zum Modul MA009." />
  <meta name="generator" content="bookdown 0.20 and GitBook 2.6.7" />

  <meta property="og:title" content="Kapitel 5 Letzte Vorbereitungen … | R4ews MA0009" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="R4ews: R Ergänzung zum Modul MA009." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Kapitel 5 Letzte Vorbereitungen … | R4ews MA0009" />
  
  <meta name="twitter:description" content="R4ews: R Ergänzung zum Modul MA009." />
  

<meta name="author" content="Stephan Haug" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="r-markdown.html"/>
<link rel="next" href="dplyr-intro.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>
<link href="libs/font-awesome-5.1.0/css/all.css" rel="stylesheet" />
<link href="libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet" />
<html>
  
  <head>
  <script src="anchor-links.js"></script>
  
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-68219208-1"></script>
  <script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-68219208-1');
  </script>

  </head>

</html>


<style type="text/css">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="assets/style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Willkommen zur R Ergänzung zur Einführung in die Wahrscheinlichkeitstheorie und Statistik</a><ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#beteiligte-personen"><i class="fa fa-check"></i>Beteiligte Personen</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#kolophon"><i class="fa fa-check"></i>Kolophon</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#lizenz"><i class="fa fa-check"></i>Lizenz</a></li>
</ul></li>
<li class="part"><span><b>I R, wie fange ich an</b></span></li>
<li class="chapter" data-level="1" data-path="install.html"><a href="install.html"><i class="fa fa-check"></i><b>1</b> Installieren von R und RStudio</a><ul>
<li class="chapter" data-level="1.1" data-path="install.html"><a href="install.html#r-und-rstudio"><i class="fa fa-check"></i><b>1.1</b> R und RStudio</a></li>
<li class="chapter" data-level="1.2" data-path="install.html"><a href="install.html#funktioniert-ausprobieren"><i class="fa fa-check"></i><b>1.2</b> Funktioniert? Ausprobieren</a></li>
<li class="chapter" data-level="1.3" data-path="install.html"><a href="install.html#add-on-packages"><i class="fa fa-check"></i><b>1.3</b> Add-on packages</a></li>
<li class="chapter" data-level="1.4" data-path="install.html"><a href="install.html#rstudio-primers"><i class="fa fa-check"></i><b>1.4</b> RStudio Primers</a></li>
<li class="chapter" data-level="1.5" data-path="install.html"><a href="install.html#aufgabe"><i class="fa fa-check"></i><b>1.5</b> Aufgabe</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="r-basics.html"><a href="r-basics.html"><i class="fa fa-check"></i><b>2</b> R Basics und Arbeitsabläufe</a><ul>
<li class="chapter" data-level="2.1" data-path="r-basics.html"><a href="r-basics.html#ein-paar-grundlagen-für-das-arbeiten-mit-r"><i class="fa fa-check"></i><b>2.1</b> Ein paar Grundlagen für das Arbeiten mit R</a></li>
<li class="chapter" data-level="2.2" data-path="r-basics.html"><a href="r-basics.html#workspace-und-working-directory"><i class="fa fa-check"></i><b>2.2</b> Workspace und working directory</a><ul>
<li class="chapter" data-level="2.2.1" data-path="r-basics.html"><a href="r-basics.html#workspace-.rdata"><i class="fa fa-check"></i><b>2.2.1</b> Workspace, <code>.RData</code></a></li>
<li class="chapter" data-level="2.2.2" data-path="r-basics.html"><a href="r-basics.html#working-directory"><i class="fa fa-check"></i><b>2.2.2</b> Working directory</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="r-basics.html"><a href="r-basics.html#rprojs"><i class="fa fa-check"></i><b>2.3</b> RStudio Projects</a></li>
<li class="chapter" data-level="2.4" data-path="r-basics.html"><a href="r-basics.html#zuletzt-noch"><i class="fa fa-check"></i><b>2.4</b> Zuletzt noch</a></li>
</ul></li>
<li class="part"><span><b>II Versionskontrolle und R Markdown</b></span></li>
<li class="chapter" data-level="3" data-path="version-control.html"><a href="version-control.html"><i class="fa fa-check"></i><b>3</b> Git, GitHub, and RStudio</a></li>
<li class="chapter" data-level="4" data-path="r-markdown.html"><a href="r-markdown.html"><i class="fa fa-check"></i><b>4</b> R Markdown</a></li>
<li class="part"><span><b>III Datenanalyse Teil 1</b></span></li>
<li class="chapter" data-level="5" data-path="basic-data-care.html"><a href="basic-data-care.html"><i class="fa fa-check"></i><b>5</b> Letzte Vorbereitungen …</a><ul>
<li class="chapter" data-level="5.1" data-path="basic-data-care.html"><a href="basic-data-care.html#data-frames-sind-fantastisch"><i class="fa fa-check"></i><b>5.1</b> Data Frames sind fantastisch</a></li>
<li class="chapter" data-level="5.2" data-path="basic-data-care.html"><a href="basic-data-care.html#gapminder-data"><i class="fa fa-check"></i><b>5.2</b> Gapminder data</a></li>
<li class="chapter" data-level="5.3" data-path="basic-data-care.html"><a href="basic-data-care.html#die-gapminder-daten-sind-ein-tibble"><i class="fa fa-check"></i><b>5.3</b> Die <code>gapminder</code> Daten sind ein “tibble”</a></li>
<li class="chapter" data-level="5.4" data-path="basic-data-care.html"><a href="basic-data-care.html#variablen-in-einem-data-frame"><i class="fa fa-check"></i><b>5.4</b> Variablen in einem Data Frame</a></li>
<li class="chapter" data-level="5.5" data-path="basic-data-care.html"><a href="basic-data-care.html#recap"><i class="fa fa-check"></i><b>5.5</b> Recap</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="dplyr-intro.html"><a href="dplyr-intro.html"><i class="fa fa-check"></i><b>6</b> Einführung in dplyr</a><ul>
<li class="chapter" data-level="6.1" data-path="dplyr-intro.html"><a href="dplyr-intro.html#einstieg"><i class="fa fa-check"></i><b>6.1</b> Einstieg</a><ul>
<li class="chapter" data-level="6.1.1" data-path="dplyr-intro.html"><a href="dplyr-intro.html#wie-immer-laden-wir-zu-beginn-tidyverse"><i class="fa fa-check"></i><b>6.1.1</b> Wie immer, laden wir zu Beginn <code>tidyverse</code></a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="dplyr-intro.html"><a href="dplyr-intro.html#filter-indizieren-von-zeilen"><i class="fa fa-check"></i><b>6.2</b> <code>filter()</code>: Indizieren von Zeilen</a></li>
<li class="chapter" data-level="6.3" data-path="dplyr-intro.html"><a href="dplyr-intro.html#der-pipe-operator"><i class="fa fa-check"></i><b>6.3</b> Der Pipe-Operator</a></li>
<li class="chapter" data-level="6.4" data-path="dplyr-intro.html"><a href="dplyr-intro.html#mit-select-variablen-auswählen"><i class="fa fa-check"></i><b>6.4</b> Mit <code>select()</code> Variablen auswählen</a></li>
<li class="chapter" data-level="6.5" data-path="dplyr-intro.html"><a href="dplyr-intro.html#jetzt-nochmal-ein-vergleich-zu-r-standardbefehlen"><i class="fa fa-check"></i><b>6.5</b> Jetzt nochmal ein Vergleich zu R Standardbefehlen</a></li>
<li class="chapter" data-level="6.6" data-path="dplyr-intro.html"><a href="dplyr-intro.html#pure-predictable-pipeable"><i class="fa fa-check"></i><b>6.6</b> Pure, predictable, pipeable</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="dplyr-single.html"><a href="dplyr-single.html"><i class="fa fa-check"></i><b>7</b> Mehr zu <code>dplyr</code></a><ul>
<li class="chapter" data-level="7.1" data-path="dplyr-single.html"><a href="dplyr-single.html#wo-stehen-wir"><i class="fa fa-check"></i><b>7.1</b> Wo stehen wir?</a></li>
<li class="chapter" data-level="7.2" data-path="dplyr-single.html"><a href="dplyr-single.html#falls-noch-nicht-geschehen-lade-dplyr-und-gapminder"><i class="fa fa-check"></i><b>7.2</b> Falls noch nicht geschehen: lade <code>dplyr</code> und <code>gapminder</code></a></li>
<li class="chapter" data-level="7.3" data-path="dplyr-single.html"><a href="dplyr-single.html#mitmutate-neue-variablen-erstellen"><i class="fa fa-check"></i><b>7.3</b> Mit<code>mutate()</code> neue Variablen erstellen</a></li>
<li class="chapter" data-level="7.4" data-path="dplyr-single.html"><a href="dplyr-single.html#mit-arrange-die-zeilenreihenfolge-ändern"><i class="fa fa-check"></i><b>7.4</b> Mit <code>arrange()</code> die Zeilenreihenfolge ändern</a></li>
<li class="chapter" data-level="7.5" data-path="dplyr-single.html"><a href="dplyr-single.html#mit-rename-schöne-namen-vergeben"><i class="fa fa-check"></i><b>7.5</b> Mit <code>rename()</code> “schöne” Namen vergeben</a></li>
<li class="chapter" data-level="7.6" data-path="dplyr-single.html"><a href="dplyr-single.html#group_by-macht-das-r-leben-einfacher"><i class="fa fa-check"></i><b>7.6</b> <code>group_by()</code> macht das R Leben einfacher</a><ul>
<li class="chapter" data-level="7.6.1" data-path="dplyr-single.html"><a href="dplyr-single.html#die-dinge-aufzählen"><i class="fa fa-check"></i><b>7.6.1</b> Die Dinge aufzählen</a></li>
<li class="chapter" data-level="7.6.2" data-path="dplyr-single.html"><a href="dplyr-single.html#deskriptive-statistiken-mit-summarise"><i class="fa fa-check"></i><b>7.6.2</b> Deskriptive Statistiken mit <code>summarise()</code></a></li>
</ul></li>
<li class="chapter" data-level="7.7" data-path="dplyr-single.html"><a href="dplyr-single.html#gruppierte-veränderungen"><i class="fa fa-check"></i><b>7.7</b> Gruppierte Veränderungen</a><ul>
<li class="chapter" data-level="7.7.1" data-path="dplyr-single.html"><a href="dplyr-single.html#berechnungen-innerhalb-der-gruppen"><i class="fa fa-check"></i><b>7.7.1</b> Berechnungen innerhalb der Gruppen</a></li>
<li class="chapter" data-level="7.7.2" data-path="dplyr-single.html"><a href="dplyr-single.html#window-functions"><i class="fa fa-check"></i><b>7.7.2</b> Window Funktionen</a></li>
</ul></li>
<li class="chapter" data-level="7.8" data-path="dplyr-single.html"><a href="dplyr-single.html#großes-finale"><i class="fa fa-check"></i><b>7.8</b> Großes Finale</a></li>
<li class="chapter" data-level="7.9" data-path="dplyr-single.html"><a href="dplyr-single.html#weiteres-material"><i class="fa fa-check"></i><b>7.9</b> Weiteres Material</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="literatur.html"><a href="literatur.html"><i class="fa fa-check"></i>Literatur</a></li>
<li class="divider"></li>
<li><center>
  <a rel="license" href="./index.html#license">
    License: CC-BY-SA<br>
    <i class = "fab fa-creative-commons fa-2x"></i>
    <i class = "fab fa-creative-commons-by fa-2x"></i>
    <i class = "fab fa-creative-commons-sa fa-2x"></i>
  </a>
</li></center>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">R4ews MA0009</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="basic-data-care" class="section level1">
<h1><span class="header-section-number">Kapitel 5</span> Letzte Vorbereitungen …</h1>
<p>Jetzt ist es an der Zeit, sich zu vergewissern in welchem Verzeichnis auf deinem Computer du dich befindest. Falls du ein <a href="r-basics.html#rprojs">RStudio Projekt</a> nutzt, sollte diese Frage leicht zu beantworten sein. Falls du trotzdem unsicher bist, gib <code>getwd()</code> in der Konsole ein, um das aktuelle Arbeitsverzeichnis zu sehen.</p>
<p>Alle nachfolgenden Code Beispiele wollen wir abspeichern in einer <code>.R</code> Datei, die wir im aktuellen Arbeitsverzeichnis abspeichern wollen. Idealerweise geben wir dieser Datei noch einen Namen, wie etwa <code>datenanalyse_teil_1.R</code>, der uns schon viel über den möglichen Inhalt erzählt.
Alternativ können wir alle Befehle natürlich auch in eine R Markdown Datei schreiben, siehe <a href="r-markdown.html#r-markdown">Test drive R Markdown</a>.</p>
<p>Prinzipiell geht es in den folgenden Abschnitten um Datenmanagement. Es werden aber auch immer wieder ein paar Grafiken zu sehen sein. Dies ist aber kein Problem, da wir ja bereits den <a href="https://rstudio.cloud/learn/primers/1.1">Data Visualization Basics Primer</a></p>
<p><img src="img/data_vis_basics.png" width="100%" /></p>
<p>besucht haben und so den nötigen Background haben.</p>
<div id="data-frames-sind-fantastisch" class="section level2">
<h2><span class="header-section-number">5.1</span> Data Frames sind fantastisch</h2>
<p>Das Standardformat für Daten ist ein data frame. Die meisten Funktionen zur Inferenz, Modellierung und graphischen Darstellung erwarten, dass ihnen über ein <code>data =</code> Argument ein data frame übergeben wird. Dies gilt für die Basis R schon seit langem.</p>
<p>Die als <a href="https://tidyverse.tidyverse.org">tidyverse</a> bekannte Kollektion von Paketen geht noch einen Schritt weiter und priorisiert ausdrücklich die Verarbeitung von data frames. Tatsächlich priorisiert <a href="https://tidyverse.tidyverse.org">tidyverse</a> eine besondere Art von data frames, die als “tibble” bezeichnet wird.</p>
<p>Data frames - im Gegensatz zu allgemeinen Arrays oder speziell Matrizen in R - können Variablen unterschiedlicher Typen enthalten, wie z. B. Textdaten (Subjekt-ID oder Name), quantitative Daten (Anzahl der weißen Blutkörperchen) und kategoriale Informationen (behandelt vs. unbehandelt). Genauer gesagt können in data frames unterschiedliche Spalten aus unterschiedlichen Datentypen bestehen. Innerhalb einer Spalte müssen aber alle Einträge vom gleichen Typ sein.</p>
<p>Daten aus einer Datenanalyse bestehen immer aus mehr als einem Datentyp. Aus diesem Grund können Matrizen oder Arrays nicht zur Datenanalyse verwendet werden, da man sonst mit verschiedenen, unverbundenen Objekten (Matrizen, Arrays) arbeiten müsste und diese nur schwer koordinieren kann.</p>
</div>
<div id="gapminder-data" class="section level2">
<h2><span class="header-section-number">5.2</span> Gapminder data</h2>
<p>Wir werden mit einigen der Daten aus dem [Gapminder-Projekt] (<a href="https://www.gapminder.org" class="uri">https://www.gapminder.org</a>)</p>
<p><img src="img/gapminder.png" width="406" style="display: block; margin: auto;" /></p>
<p>arbeiten. Die Daten sind im <a href="https://github.com/jennybc/gapminder">gapminder</a> Paket enthalten, welches wir über CRAN installieren können:</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb25-1"><a href="basic-data-care.html#cb25-1"></a><span class="kw">install.packages</span>(<span class="st">&quot;gapminder&quot;</span>)</span></code></pre></div>
<p>Um die Daten zu verwenden, müssen wir das Paket natürlich auch noch laden</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb26-1"><a href="basic-data-care.html#cb26-1"></a><span class="kw">library</span>(gapminder)</span></code></pre></div>
</div>
<div id="die-gapminder-daten-sind-ein-tibble" class="section level2">
<h2><span class="header-section-number">5.3</span> Die <code>gapminder</code> Daten sind ein “tibble”</h2>
<p>Durch das Laden des <code>gapminder</code> Pakets haben wir nun Zugriff auf einen Datenobjekt mit demselben Namen. Schau dir nun mithilfe der Funktion <code>str()</code> die Struktur des Objekts an.</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb27-1"><a href="basic-data-care.html#cb27-1"></a><span class="kw">str</span>(gapminder)</span>
<span id="cb27-2"><a href="basic-data-care.html#cb27-2"></a><span class="co">#&gt; tibble [1,704 × 6] (S3: tbl_df/tbl/data.frame)</span></span>
<span id="cb27-3"><a href="basic-data-care.html#cb27-3"></a><span class="co">#&gt;  $ country  : Factor w/ 142 levels &quot;Afghanistan&quot;,..: 1 1 1 1 1 1 1 1 1 1 ...</span></span>
<span id="cb27-4"><a href="basic-data-care.html#cb27-4"></a><span class="co">#&gt;  $ continent: Factor w/ 5 levels &quot;Africa&quot;,&quot;Americas&quot;,..: 3 3 3 3 3 3 3 3 3 3 ...</span></span>
<span id="cb27-5"><a href="basic-data-care.html#cb27-5"></a><span class="co">#&gt;  $ year     : int [1:1704] 1952 1957 1962 1967 1972 1977 1982 1987 1992 1997 ...</span></span>
<span id="cb27-6"><a href="basic-data-care.html#cb27-6"></a><span class="co">#&gt;  $ lifeExp  : num [1:1704] 28.8 30.3 32 34 36.1 ...</span></span>
<span id="cb27-7"><a href="basic-data-care.html#cb27-7"></a><span class="co">#&gt;  $ pop      : int [1:1704] 8425333 9240934 10267083 11537966 13079460 14880372..</span></span>
<span id="cb27-8"><a href="basic-data-care.html#cb27-8"></a><span class="co">#&gt;  $ gdpPercap: num [1:1704] 779 821 853 836 740 ...</span></span></code></pre></div>
<p><code>str()</code> liefert eine vernünftige Beschreibung von fast allem, und im schlimmsten Fall kann tatsächlich auch nichts “Schlimmes” passieren. Aus dem Output erkennen wir, dass der Datensatz 1704 Beobachtungen enthält.</p>
<p>Auf der anderen Seite hätten wir durch direkten Aufruf von <code>gapminder</code> den Inhalt auch direkt auf den Bildschirm schreiben können. Aber vielleicht hast du schon mal einen größeren Datensatz aufgerufen und zögerst nun etwas, da große Datensätze einfach die Konsole füllen und nur sehr wenig Einblick bieten.</p>
<p>Dies ist der erste große Sieg für <strong>tibbles</strong>. Tidyverse bietet eine spezielle data frame Variante an: ein “tibble”. Dies wird auch verdeutlicht, wenn man sich z.B. die Klasse des <code>gapminder</code> Objekts anschaut</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb28-1"><a href="basic-data-care.html#cb28-1"></a><span class="kw">class</span>(gapminder)</span>
<span id="cb28-2"><a href="basic-data-care.html#cb28-2"></a><span class="co">#&gt; [1] &quot;tbl_df&quot;     &quot;tbl&quot;        &quot;data.frame&quot;</span></span></code></pre></div>
<p>Schau, es ist immer noch ein reguläres data frame, aber eben auch ein tibble.</p>
<p>Jetzt können wir <code>gapminder</code> einfach auf den Bildschirm anzeigen! Da es sich um ein tibble handelt, wird nur das Wichtigste angezeigt und deine Konsole läuft nicht voll.</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb29-1"><a href="basic-data-care.html#cb29-1"></a>gapminder</span>
<span id="cb29-2"><a href="basic-data-care.html#cb29-2"></a><span class="co">#&gt; # A tibble: 1,704 x 6</span></span>
<span id="cb29-3"><a href="basic-data-care.html#cb29-3"></a><span class="co">#&gt;    country     continent  year lifeExp      pop gdpPercap</span></span>
<span id="cb29-4"><a href="basic-data-care.html#cb29-4"></a><span class="co">#&gt;    &lt;fct&gt;       &lt;fct&gt;     &lt;int&gt;   &lt;dbl&gt;    &lt;int&gt;     &lt;dbl&gt;</span></span>
<span id="cb29-5"><a href="basic-data-care.html#cb29-5"></a><span class="co">#&gt;  1 Afghanistan Asia       1952    28.8  8425333      779.</span></span>
<span id="cb29-6"><a href="basic-data-care.html#cb29-6"></a><span class="co">#&gt;  2 Afghanistan Asia       1957    30.3  9240934      821.</span></span>
<span id="cb29-7"><a href="basic-data-care.html#cb29-7"></a><span class="co">#&gt;  3 Afghanistan Asia       1962    32.0 10267083      853.</span></span>
<span id="cb29-8"><a href="basic-data-care.html#cb29-8"></a><span class="co">#&gt;  4 Afghanistan Asia       1967    34.0 11537966      836.</span></span>
<span id="cb29-9"><a href="basic-data-care.html#cb29-9"></a><span class="co">#&gt;  5 Afghanistan Asia       1972    36.1 13079460      740.</span></span>
<span id="cb29-10"><a href="basic-data-care.html#cb29-10"></a><span class="co">#&gt;  6 Afghanistan Asia       1977    38.4 14880372      786.</span></span>
<span id="cb29-11"><a href="basic-data-care.html#cb29-11"></a><span class="co">#&gt;  7 Afghanistan Asia       1982    39.9 12881816      978.</span></span>
<span id="cb29-12"><a href="basic-data-care.html#cb29-12"></a><span class="co">#&gt;  8 Afghanistan Asia       1987    40.8 13867957      852.</span></span>
<span id="cb29-13"><a href="basic-data-care.html#cb29-13"></a><span class="co">#&gt;  9 Afghanistan Asia       1992    41.7 16317921      649.</span></span>
<span id="cb29-14"><a href="basic-data-care.html#cb29-14"></a><span class="co">#&gt; 10 Afghanistan Asia       1997    41.8 22227415      635.</span></span>
<span id="cb29-15"><a href="basic-data-care.html#cb29-15"></a><span class="co">#&gt; # … with 1,694 more rows</span></span></code></pre></div>
<p>Wenn du mit einem reinen data frame arbeitest - und dieses Feature magst - kannst du es mit <code>as_tibble()</code> in ein tibble transformieren.</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb30-1"><a href="basic-data-care.html#cb30-1"></a><span class="kw">library</span>(tidyverse)</span>
<span id="cb30-2"><a href="basic-data-care.html#cb30-2"></a><span class="kw">as_tibble</span>(iris)</span>
<span id="cb30-3"><a href="basic-data-care.html#cb30-3"></a><span class="co">#&gt; # A tibble: 150 x 5</span></span>
<span id="cb30-4"><a href="basic-data-care.html#cb30-4"></a><span class="co">#&gt;    Sepal.Length Sepal.Width Petal.Length Petal.Width Species</span></span>
<span id="cb30-5"><a href="basic-data-care.html#cb30-5"></a><span class="co">#&gt;           &lt;dbl&gt;       &lt;dbl&gt;        &lt;dbl&gt;       &lt;dbl&gt; &lt;fct&gt;  </span></span>
<span id="cb30-6"><a href="basic-data-care.html#cb30-6"></a><span class="co">#&gt;  1          5.1         3.5          1.4         0.2 setosa </span></span>
<span id="cb30-7"><a href="basic-data-care.html#cb30-7"></a><span class="co">#&gt;  2          4.9         3            1.4         0.2 setosa </span></span>
<span id="cb30-8"><a href="basic-data-care.html#cb30-8"></a><span class="co">#&gt;  3          4.7         3.2          1.3         0.2 setosa </span></span>
<span id="cb30-9"><a href="basic-data-care.html#cb30-9"></a><span class="co">#&gt;  4          4.6         3.1          1.5         0.2 setosa </span></span>
<span id="cb30-10"><a href="basic-data-care.html#cb30-10"></a><span class="co">#&gt;  5          5           3.6          1.4         0.2 setosa </span></span>
<span id="cb30-11"><a href="basic-data-care.html#cb30-11"></a><span class="co">#&gt;  6          5.4         3.9          1.7         0.4 setosa </span></span>
<span id="cb30-12"><a href="basic-data-care.html#cb30-12"></a><span class="co">#&gt;  7          4.6         3.4          1.4         0.3 setosa </span></span>
<span id="cb30-13"><a href="basic-data-care.html#cb30-13"></a><span class="co">#&gt;  8          5           3.4          1.5         0.2 setosa </span></span>
<span id="cb30-14"><a href="basic-data-care.html#cb30-14"></a><span class="co">#&gt;  9          4.4         2.9          1.4         0.2 setosa </span></span>
<span id="cb30-15"><a href="basic-data-care.html#cb30-15"></a><span class="co">#&gt; 10          4.9         3.1          1.5         0.1 setosa </span></span>
<span id="cb30-16"><a href="basic-data-care.html#cb30-16"></a><span class="co">#&gt; # … with 140 more rows</span></span></code></pre></div>
<p>Weitere Möglichkeiten, grundlegende Informationen zu einem data frame abzufragen:</p>
<div class="sourceCode" id="cb31"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb31-1"><a href="basic-data-care.html#cb31-1"></a><span class="kw">names</span>(gapminder)</span>
<span id="cb31-2"><a href="basic-data-care.html#cb31-2"></a><span class="co">#&gt; [1] &quot;country&quot;   &quot;continent&quot; &quot;year&quot;      &quot;lifeExp&quot;   &quot;pop&quot;       &quot;gdpPercap&quot;</span></span>
<span id="cb31-3"><a href="basic-data-care.html#cb31-3"></a><span class="kw">ncol</span>(gapminder)</span>
<span id="cb31-4"><a href="basic-data-care.html#cb31-4"></a><span class="co">#&gt; [1] 6</span></span>
<span id="cb31-5"><a href="basic-data-care.html#cb31-5"></a><span class="kw">length</span>(gapminder)</span>
<span id="cb31-6"><a href="basic-data-care.html#cb31-6"></a><span class="co">#&gt; [1] 6</span></span>
<span id="cb31-7"><a href="basic-data-care.html#cb31-7"></a><span class="kw">dim</span>(gapminder)</span>
<span id="cb31-8"><a href="basic-data-care.html#cb31-8"></a><span class="co">#&gt; [1] 1704    6</span></span>
<span id="cb31-9"><a href="basic-data-care.html#cb31-9"></a><span class="kw">nrow</span>(gapminder)</span>
<span id="cb31-10"><a href="basic-data-care.html#cb31-10"></a><span class="co">#&gt; [1] 1704</span></span></code></pre></div>
<p>Ein bisschen deskriptive Statistik zum Inhalt eines data frames erhältst du mit <code>summary()</code>:</p>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb32-1"><a href="basic-data-care.html#cb32-1"></a><span class="kw">summary</span>(gapminder)</span>
<span id="cb32-2"><a href="basic-data-care.html#cb32-2"></a><span class="co">#&gt;         country        continent        year         lifeExp    </span></span>
<span id="cb32-3"><a href="basic-data-care.html#cb32-3"></a><span class="co">#&gt;  Afghanistan:  12   Africa  :624   Min.   :1952   Min.   :23.6  </span></span>
<span id="cb32-4"><a href="basic-data-care.html#cb32-4"></a><span class="co">#&gt;  Albania    :  12   Americas:300   1st Qu.:1966   1st Qu.:48.2  </span></span>
<span id="cb32-5"><a href="basic-data-care.html#cb32-5"></a><span class="co">#&gt;  Algeria    :  12   Asia    :396   Median :1980   Median :60.7  </span></span>
<span id="cb32-6"><a href="basic-data-care.html#cb32-6"></a><span class="co">#&gt;  Angola     :  12   Europe  :360   Mean   :1980   Mean   :59.5  </span></span>
<span id="cb32-7"><a href="basic-data-care.html#cb32-7"></a><span class="co">#&gt;  Argentina  :  12   Oceania : 24   3rd Qu.:1993   3rd Qu.:70.8  </span></span>
<span id="cb32-8"><a href="basic-data-care.html#cb32-8"></a><span class="co">#&gt;  Australia  :  12                  Max.   :2007   Max.   :82.6  </span></span>
<span id="cb32-9"><a href="basic-data-care.html#cb32-9"></a><span class="co">#&gt;  (Other)    :1632                                               </span></span>
<span id="cb32-10"><a href="basic-data-care.html#cb32-10"></a><span class="co">#&gt;       pop             gdpPercap     </span></span>
<span id="cb32-11"><a href="basic-data-care.html#cb32-11"></a><span class="co">#&gt;  Min.   :6.00e+04   Min.   :   241  </span></span>
<span id="cb32-12"><a href="basic-data-care.html#cb32-12"></a><span class="co">#&gt;  1st Qu.:2.79e+06   1st Qu.:  1202  </span></span>
<span id="cb32-13"><a href="basic-data-care.html#cb32-13"></a><span class="co">#&gt;  Median :7.02e+06   Median :  3532  </span></span>
<span id="cb32-14"><a href="basic-data-care.html#cb32-14"></a><span class="co">#&gt;  Mean   :2.96e+07   Mean   :  7215  </span></span>
<span id="cb32-15"><a href="basic-data-care.html#cb32-15"></a><span class="co">#&gt;  3rd Qu.:1.96e+07   3rd Qu.:  9325  </span></span>
<span id="cb32-16"><a href="basic-data-care.html#cb32-16"></a><span class="co">#&gt;  Max.   :1.32e+09   Max.   :113523  </span></span>
<span id="cb32-17"><a href="basic-data-care.html#cb32-17"></a><span class="co">#&gt; </span></span></code></pre></div>
<blockquote>
<p><strong>Bemerkung:</strong> <code>summary()</code> ist eine generische Funktion. Für eine gegebene Klasse (des Inputs) bestimmt die generische Funktion die passende Methode. Die Funktion <code>summary()</code> besitzt die folgenden Methoden:</p>
</blockquote>
<div class="sourceCode" id="cb33"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb33-1"><a href="basic-data-care.html#cb33-1"></a><span class="kw">methods</span>(summary)</span>
<span id="cb33-2"><a href="basic-data-care.html#cb33-2"></a><span class="co">#&gt;  [1] summary,ANY-method             summary,DBIObject-method      </span></span>
<span id="cb33-3"><a href="basic-data-care.html#cb33-3"></a><span class="co">#&gt;  [3] summary.aov                    summary.aovlist*              </span></span>
<span id="cb33-4"><a href="basic-data-care.html#cb33-4"></a><span class="co">#&gt;  [5] summary.aspell*                summary.check_packages_in_dir*</span></span>
<span id="cb33-5"><a href="basic-data-care.html#cb33-5"></a><span class="co">#&gt;  [7] summary.connection             summary.data.frame            </span></span>
<span id="cb33-6"><a href="basic-data-care.html#cb33-6"></a><span class="co">#&gt;  [9] summary.Date                   summary.default               </span></span>
<span id="cb33-7"><a href="basic-data-care.html#cb33-7"></a><span class="co">#&gt; [11] summary.Duration*              summary.ecdf*                 </span></span>
<span id="cb33-8"><a href="basic-data-care.html#cb33-8"></a><span class="co">#&gt; [13] summary.factor                 summary.ggplot*               </span></span>
<span id="cb33-9"><a href="basic-data-care.html#cb33-9"></a><span class="co">#&gt; [15] summary.glm                    summary.haven_labelled*       </span></span>
<span id="cb33-10"><a href="basic-data-care.html#cb33-10"></a><span class="co">#&gt; [17] summary.hcl_palettes*          summary.infl*                 </span></span>
<span id="cb33-11"><a href="basic-data-care.html#cb33-11"></a><span class="co">#&gt; [19] summary.Interval*              summary.lm                    </span></span>
<span id="cb33-12"><a href="basic-data-care.html#cb33-12"></a><span class="co">#&gt; [21] summary.loess*                 summary.manova                </span></span>
<span id="cb33-13"><a href="basic-data-care.html#cb33-13"></a><span class="co">#&gt; [23] summary.matrix                 summary.mlm*                  </span></span>
<span id="cb33-14"><a href="basic-data-care.html#cb33-14"></a><span class="co">#&gt; [25] summary.nls*                   summary.packageStatus*        </span></span>
<span id="cb33-15"><a href="basic-data-care.html#cb33-15"></a><span class="co">#&gt; [27] summary.Period*                summary.POSIXct               </span></span>
<span id="cb33-16"><a href="basic-data-care.html#cb33-16"></a><span class="co">#&gt; [29] summary.POSIXlt                summary.ppr*                  </span></span>
<span id="cb33-17"><a href="basic-data-care.html#cb33-17"></a><span class="co">#&gt; [31] summary.prcomp*                summary.princomp*             </span></span>
<span id="cb33-18"><a href="basic-data-care.html#cb33-18"></a><span class="co">#&gt; [33] summary.proc_time              summary.rlang_error*          </span></span>
<span id="cb33-19"><a href="basic-data-care.html#cb33-19"></a><span class="co">#&gt; [35] summary.rlang_trace*           summary.srcfile               </span></span>
<span id="cb33-20"><a href="basic-data-care.html#cb33-20"></a><span class="co">#&gt; [37] summary.srcref                 summary.stepfun               </span></span>
<span id="cb33-21"><a href="basic-data-care.html#cb33-21"></a><span class="co">#&gt; [39] summary.stl*                   summary.table                 </span></span>
<span id="cb33-22"><a href="basic-data-care.html#cb33-22"></a><span class="co">#&gt; [41] summary.tukeysmooth*           summary.vctrs_sclr*           </span></span>
<span id="cb33-23"><a href="basic-data-care.html#cb33-23"></a><span class="co">#&gt; [43] summary.vctrs_vctr*            summary.warnings              </span></span>
<span id="cb33-24"><a href="basic-data-care.html#cb33-24"></a><span class="co">#&gt; see &#39;?methods&#39; for accessing help and source code</span></span></code></pre></div>
<p>Obwohl wir uns formell noch nicht eingehender mit der Visualisierung beschäftigt haben, ist es wichtig ein paar Grafiken zu erzeugen um einen ersten Eindruck über den Datensatz zu bekommen. Auf der anderen Seite werden die Grafiken aber auch nicht (viel) aufwendiger als im Data Visualisation Basics Primer</p>
<div class="sourceCode" id="cb34"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb34-1"><a href="basic-data-care.html#cb34-1"></a><span class="kw">ggplot</span>(gapminder, <span class="dt">mapping =</span> <span class="kw">aes</span>(<span class="dt">x =</span> year, <span class="dt">y =</span> lifeExp)) <span class="op">+</span></span>
<span id="cb34-2"><a href="basic-data-care.html#cb34-2"></a><span class="st">         </span><span class="kw">geom_point</span>()</span></code></pre></div>
<p><img src="05_data-care-feeding_files/figure-html/first-plots-base-R-1.png" width="672" /></p>
<div class="sourceCode" id="cb35"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb35-1"><a href="basic-data-care.html#cb35-1"></a><span class="kw">ggplot</span>(gapminder, <span class="dt">mapping =</span> <span class="kw">aes</span>(<span class="dt">x =</span> gdpPercap, <span class="dt">y =</span> lifeExp)) <span class="op">+</span></span>
<span id="cb35-2"><a href="basic-data-care.html#cb35-2"></a><span class="st">         </span><span class="kw">geom_point</span>()</span></code></pre></div>
<p><img src="05_data-care-feeding_files/figure-html/first-plots-base-R-2.png" width="672" /></p>
<div class="sourceCode" id="cb36"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb36-1"><a href="basic-data-care.html#cb36-1"></a><span class="kw">ggplot</span>(gapminder, <span class="dt">mapping =</span> <span class="kw">aes</span>(<span class="dt">x =</span> <span class="kw">log</span>(gdpPercap), <span class="dt">y =</span> lifeExp)) <span class="op">+</span></span>
<span id="cb36-2"><a href="basic-data-care.html#cb36-2"></a><span class="st">         </span><span class="kw">geom_point</span>()</span></code></pre></div>
<p><img src="05_data-care-feeding_files/figure-html/first-plots-base-R-3.png" width="672" /></p>
<p>Grafiken dieser Art werden wir zu einem späteren Zeitpunkt noch genauer behandeln. Dann sprechen wir auch über deren Inhalt.</p>
<p>Wir schauen uns nochmal die Ausgabe von <code>str()</code> an, um darüber zu sprechen, was ein data frame genau ist.</p>
<div class="sourceCode" id="cb37"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb37-1"><a href="basic-data-care.html#cb37-1"></a><span class="kw">str</span>(gapminder)</span>
<span id="cb37-2"><a href="basic-data-care.html#cb37-2"></a><span class="co">#&gt; tibble [1,704 × 6] (S3: tbl_df/tbl/data.frame)</span></span>
<span id="cb37-3"><a href="basic-data-care.html#cb37-3"></a><span class="co">#&gt;  $ country  : Factor w/ 142 levels &quot;Afghanistan&quot;,..: 1 1 1 1 1 1 1 1 1 1 ...</span></span>
<span id="cb37-4"><a href="basic-data-care.html#cb37-4"></a><span class="co">#&gt;  $ continent: Factor w/ 5 levels &quot;Africa&quot;,&quot;Americas&quot;,..: 3 3 3 3 3 3 3 3 3 3 ...</span></span>
<span id="cb37-5"><a href="basic-data-care.html#cb37-5"></a><span class="co">#&gt;  $ year     : int [1:1704] 1952 1957 1962 1967 1972 1977 1982 1987 1992 1997 ...</span></span>
<span id="cb37-6"><a href="basic-data-care.html#cb37-6"></a><span class="co">#&gt;  $ lifeExp  : num [1:1704] 28.8 30.3 32 34 36.1 ...</span></span>
<span id="cb37-7"><a href="basic-data-care.html#cb37-7"></a><span class="co">#&gt;  $ pop      : int [1:1704] 8425333 9240934 10267083 11537966 13079460 14880372..</span></span>
<span id="cb37-8"><a href="basic-data-care.html#cb37-8"></a><span class="co">#&gt;  $ gdpPercap: num [1:1704] 779 821 853 836 740 ...</span></span></code></pre></div>
<p>Ein data frame ist ein Sonderfall einer <em>Liste</em>, die in R verwendet wird, um so gut wie alles aufzunehmen. Data frames sind ein Spezialfall, bei dem die Länge jedes Listenelements gleich ist.</p>
<p>Nehmen wir mal an, dass wir eine Beschreibung der Variablen</p>
<div class="sourceCode" id="cb38"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb38-1"><a href="basic-data-care.html#cb38-1"></a><span class="kw">names</span>(gapminder)</span>
<span id="cb38-2"><a href="basic-data-care.html#cb38-2"></a><span class="co">#&gt; [1] &quot;country&quot;   &quot;continent&quot; &quot;year&quot;      &quot;lifeExp&quot;   &quot;pop&quot;       &quot;gdpPercap&quot;</span></span></code></pre></div>
<p>zusammen mit den Daten abspeichern wollen. Dazu könnten wir ein tibble</p>
<div class="sourceCode" id="cb39"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb39-1"><a href="basic-data-care.html#cb39-1"></a>(desc &lt;-<span class="st"> </span><span class="kw">tibble</span>(<span class="dt">variables =</span> <span class="kw">names</span>(gapminder),</span>
<span id="cb39-2"><a href="basic-data-care.html#cb39-2"></a>               <span class="dt">desc =</span> <span class="kw">c</span>(<span class="st">&quot;factor with 142 levels&quot;</span>, <span class="st">&quot;factor with 5 levels&quot;</span>,</span>
<span id="cb39-3"><a href="basic-data-care.html#cb39-3"></a>                        <span class="st">&quot;ranges from 1952 to 2007 in increments of 5 years&quot;</span>,</span>
<span id="cb39-4"><a href="basic-data-care.html#cb39-4"></a>                        <span class="st">&quot;life expectancy at birth, in years&quot;</span>,</span>
<span id="cb39-5"><a href="basic-data-care.html#cb39-5"></a>                        <span class="st">&quot;population&quot;</span>,<span class="st">&quot;GDP per capita (US$, inflation-adjusted)&quot;</span>)))</span>
<span id="cb39-6"><a href="basic-data-care.html#cb39-6"></a><span class="co">#&gt; # A tibble: 6 x 2</span></span>
<span id="cb39-7"><a href="basic-data-care.html#cb39-7"></a><span class="co">#&gt;   variables desc                                             </span></span>
<span id="cb39-8"><a href="basic-data-care.html#cb39-8"></a><span class="co">#&gt;   &lt;chr&gt;     &lt;chr&gt;                                            </span></span>
<span id="cb39-9"><a href="basic-data-care.html#cb39-9"></a><span class="co">#&gt; 1 country   factor with 142 levels                           </span></span>
<span id="cb39-10"><a href="basic-data-care.html#cb39-10"></a><span class="co">#&gt; 2 continent factor with 5 levels                             </span></span>
<span id="cb39-11"><a href="basic-data-care.html#cb39-11"></a><span class="co">#&gt; 3 year      ranges from 1952 to 2007 in increments of 5 years</span></span>
<span id="cb39-12"><a href="basic-data-care.html#cb39-12"></a><span class="co">#&gt; 4 lifeExp   life expectancy at birth, in years               </span></span>
<span id="cb39-13"><a href="basic-data-care.html#cb39-13"></a><span class="co">#&gt; 5 pop       population                                       </span></span>
<span id="cb39-14"><a href="basic-data-care.html#cb39-14"></a><span class="co">#&gt; 6 gdpPercap GDP per capita (US$, inflation-adjusted)</span></span></code></pre></div>
<p>erzeugen, das die Beschreibungen enthält. Dieses data frame hat nun die Dimension 6x2. Trotzdem können wir es mit <code>gapminder</code> kombinieren, wenn wir beide tibbles in einer Liste abspeichern</p>
<div class="sourceCode" id="cb40"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb40-1"><a href="basic-data-care.html#cb40-1"></a>gapminder_desc &lt;-<span class="st"> </span><span class="kw">list</span>(gapminder, desc)</span>
<span id="cb40-2"><a href="basic-data-care.html#cb40-2"></a><span class="kw">str</span>(gapminder_desc)</span>
<span id="cb40-3"><a href="basic-data-care.html#cb40-3"></a><span class="co">#&gt; List of 2</span></span>
<span id="cb40-4"><a href="basic-data-care.html#cb40-4"></a><span class="co">#&gt;  $ : tibble [1,704 × 6] (S3: tbl_df/tbl/data.frame)</span></span>
<span id="cb40-5"><a href="basic-data-care.html#cb40-5"></a><span class="co">#&gt;   ..$ country  : Factor w/ 142 levels &quot;Afghanistan&quot;,..: 1 1 1 1 1 1 1 1 1 1 ...</span></span>
<span id="cb40-6"><a href="basic-data-care.html#cb40-6"></a><span class="co">#&gt;   ..$ continent: Factor w/ 5 levels &quot;Africa&quot;,&quot;Americas&quot;,..: 3 3 3 3 3 3 3 3 3 ..</span></span>
<span id="cb40-7"><a href="basic-data-care.html#cb40-7"></a><span class="co">#&gt;   ..$ year     : int [1:1704] 1952 1957 1962 1967 1972 1977 1982 1987 1992 199..</span></span>
<span id="cb40-8"><a href="basic-data-care.html#cb40-8"></a><span class="co">#&gt;   ..$ lifeExp  : num [1:1704] 28.8 30.3 32 34 36.1 ...</span></span>
<span id="cb40-9"><a href="basic-data-care.html#cb40-9"></a><span class="co">#&gt;   ..$ pop      : int [1:1704] 8425333 9240934 10267083 11537966 13079460 14880..</span></span>
<span id="cb40-10"><a href="basic-data-care.html#cb40-10"></a><span class="co">#&gt;   ..$ gdpPercap: num [1:1704] 779 821 853 836 740 ...</span></span>
<span id="cb40-11"><a href="basic-data-care.html#cb40-11"></a><span class="co">#&gt;  $ : tibble [6 × 2] (S3: tbl_df/tbl/data.frame)</span></span>
<span id="cb40-12"><a href="basic-data-care.html#cb40-12"></a><span class="co">#&gt;   ..$ variables: chr [1:6] &quot;country&quot; &quot;continent&quot; &quot;year&quot; &quot;lifeExp&quot; ...</span></span>
<span id="cb40-13"><a href="basic-data-care.html#cb40-13"></a><span class="co">#&gt;   ..$ desc     : chr [1:6] &quot;factor with 142 levels&quot; &quot;factor with 5 levels&quot; &quot;r&quot;..</span></span></code></pre></div>
</div>
<div id="variablen-in-einem-data-frame" class="section level2">
<h2><span class="header-section-number">5.4</span> Variablen in einem Data Frame</h2>
<p>Um eine einzelne Variable aus einem data frame anzusprechen, kann man mit dem Dollarzeichen <code>$</code> arbeiten. Wir schauen uns dazu die numerische Variable <code>lifeExp</code> an.</p>
<div class="sourceCode" id="cb41"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb41-1"><a href="basic-data-care.html#cb41-1"></a><span class="kw">head</span>(gapminder<span class="op">$</span>lifeExp)</span>
<span id="cb41-2"><a href="basic-data-care.html#cb41-2"></a><span class="co">#&gt; [1] 28.8 30.3 32.0 34.0 36.1 38.4</span></span>
<span id="cb41-3"><a href="basic-data-care.html#cb41-3"></a><span class="kw">summary</span>(gapminder<span class="op">$</span>lifeExp)</span>
<span id="cb41-4"><a href="basic-data-care.html#cb41-4"></a><span class="co">#&gt;    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. </span></span>
<span id="cb41-5"><a href="basic-data-care.html#cb41-5"></a><span class="co">#&gt;    23.6    48.2    60.7    59.5    70.8    82.6</span></span></code></pre></div>
<p>Zusätzlich wollen wir die noch die Verteilung von <code>lifeExp</code> visualisieren und plotten dazu ein Histogramm. Da wir dazu <code>ggplot()</code> verwenden, können wir <code>lifeExp</code> wieder direkt aufrufen.</p>
<div class="sourceCode" id="cb42"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb42-1"><a href="basic-data-care.html#cb42-1"></a><span class="kw">ggplot</span>(gapminder, <span class="dt">mapping =</span> <span class="kw">aes</span>(<span class="dt">x =</span> lifeExp)) <span class="op">+</span><span class="st"> </span></span>
<span id="cb42-2"><a href="basic-data-care.html#cb42-2"></a><span class="st">  </span><span class="kw">geom_histogram</span>()</span>
<span id="cb42-3"><a href="basic-data-care.html#cb42-3"></a><span class="co">#&gt; `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</span></span></code></pre></div>
<p><img src="05_data-care-feeding_files/figure-html/unnamed-chunk-17-1.png" width="672" /></p>
<p>Alternativ können wir die Einträge eines data frames auch über die eckigen Klammern <code>[]</code> indizieren.</p>
<div class="sourceCode" id="cb43"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb43-1"><a href="basic-data-care.html#cb43-1"></a><span class="kw">summary</span>(gapminder[,<span class="st">&quot;lifeExp&quot;</span>])</span>
<span id="cb43-2"><a href="basic-data-care.html#cb43-2"></a><span class="co">#&gt;     lifeExp    </span></span>
<span id="cb43-3"><a href="basic-data-care.html#cb43-3"></a><span class="co">#&gt;  Min.   :23.6  </span></span>
<span id="cb43-4"><a href="basic-data-care.html#cb43-4"></a><span class="co">#&gt;  1st Qu.:48.2  </span></span>
<span id="cb43-5"><a href="basic-data-care.html#cb43-5"></a><span class="co">#&gt;  Median :60.7  </span></span>
<span id="cb43-6"><a href="basic-data-care.html#cb43-6"></a><span class="co">#&gt;  Mean   :59.5  </span></span>
<span id="cb43-7"><a href="basic-data-care.html#cb43-7"></a><span class="co">#&gt;  3rd Qu.:70.8  </span></span>
<span id="cb43-8"><a href="basic-data-care.html#cb43-8"></a><span class="co">#&gt;  Max.   :82.6</span></span></code></pre></div>
<p>Dabei spezifiziert der Eintrag links vom Komma die Zeilen und der Wert rechts davon die Spalten. Dies ist hilfreich, wenn man auf einzelne Werte zugreifen will. Aber beim Aufruf einer kompletten Variable (Spalte) ist die <code>$</code> Notation sicherlich vorteilhaft.</p>
<p>Die Variable <code>year</code> ist eine ganzzahlige Variable, aber da es so wenige unterschiedliche Werte gibt, funktioniert sie auch ein wenig wie eine kategoriale Variable.</p>
<div class="sourceCode" id="cb44"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb44-1"><a href="basic-data-care.html#cb44-1"></a><span class="kw">summary</span>(gapminder<span class="op">$</span>year)</span>
<span id="cb44-2"><a href="basic-data-care.html#cb44-2"></a><span class="co">#&gt;    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. </span></span>
<span id="cb44-3"><a href="basic-data-care.html#cb44-3"></a><span class="co">#&gt;    1952    1966    1980    1980    1993    2007</span></span>
<span id="cb44-4"><a href="basic-data-care.html#cb44-4"></a><span class="kw">table</span>(gapminder<span class="op">$</span>year)</span>
<span id="cb44-5"><a href="basic-data-care.html#cb44-5"></a><span class="co">#&gt; </span></span>
<span id="cb44-6"><a href="basic-data-care.html#cb44-6"></a><span class="co">#&gt; 1952 1957 1962 1967 1972 1977 1982 1987 1992 1997 2002 2007 </span></span>
<span id="cb44-7"><a href="basic-data-care.html#cb44-7"></a><span class="co">#&gt;  142  142  142  142  142  142  142  142  142  142  142  142</span></span></code></pre></div>
<p>Die Variablen <code>country</code> und <code>continent</code> enthalten rein kategorische Informationen, die in R (häufig) als <em>factor</em> gespeichert werden.</p>
<div class="sourceCode" id="cb45"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb45-1"><a href="basic-data-care.html#cb45-1"></a><span class="kw">class</span>(gapminder<span class="op">$</span>continent)</span>
<span id="cb45-2"><a href="basic-data-care.html#cb45-2"></a><span class="co">#&gt; [1] &quot;factor&quot;</span></span>
<span id="cb45-3"><a href="basic-data-care.html#cb45-3"></a><span class="kw">summary</span>(gapminder<span class="op">$</span>continent)</span>
<span id="cb45-4"><a href="basic-data-care.html#cb45-4"></a><span class="co">#&gt;   Africa Americas     Asia   Europe  Oceania </span></span>
<span id="cb45-5"><a href="basic-data-care.html#cb45-5"></a><span class="co">#&gt;      624      300      396      360       24</span></span>
<span id="cb45-6"><a href="basic-data-care.html#cb45-6"></a><span class="kw">levels</span>(gapminder<span class="op">$</span>continent)</span>
<span id="cb45-7"><a href="basic-data-care.html#cb45-7"></a><span class="co">#&gt; [1] &quot;Africa&quot;   &quot;Americas&quot; &quot;Asia&quot;     &quot;Europe&quot;   &quot;Oceania&quot;</span></span>
<span id="cb45-8"><a href="basic-data-care.html#cb45-8"></a><span class="kw">nlevels</span>(gapminder<span class="op">$</span>continent)</span>
<span id="cb45-9"><a href="basic-data-care.html#cb45-9"></a><span class="co">#&gt; [1] 5</span></span></code></pre></div>
<p>Die <strong>Levels</strong> von <code>continent</code> sind “Afrika”, “America” usw., und das ist es, was einem normalerweise in R angezeigt werden sollte, wenn man eine Faktorvariable aufruft. Im Allgemeinen sind die Levels von Menschen lesbare Zeichenfolgen, wie “male/female” und “control/treated”. Aber vergiss <em>niemals</em>, dass R diese Information in kodierter Form speichert. Schauen dir zum Beispiel das Ergebnis von <code>str(gapminder$continent)</code> an, falls du skeptisch sein solltest.</p>
<div class="sourceCode" id="cb46"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb46-1"><a href="basic-data-care.html#cb46-1"></a><span class="kw">str</span>(gapminder<span class="op">$</span>continent)</span>
<span id="cb46-2"><a href="basic-data-care.html#cb46-2"></a><span class="co">#&gt;  Factor w/ 5 levels &quot;Africa&quot;,&quot;Americas&quot;,..: 3 3 3 3 3 3 3 3 3 3 ...</span></span></code></pre></div>
<p>Faktorvariablen haben Vor- und Nachteil. Im weiteren Verlauf zeigen wir sowohl die Vor- wie auch die Nachteile. Generell ist aber durchaus so, dass die Vorteile überwiegen.</p>
<p>Als Nächstes erstellen wir mit der Funktion <code>table()</code> eine Häufigkeitstabelle für die Variable <code>count</code>. Dieser Inhalt wird anschließend visualisiert über die Funktion <code>geom_bar()</code>. Die entsprechende Berechnung der Häufigkeitstabelle wird dabei aber sowohl von <code>table()</code> wie auch von <code>geom_bar()</code> (über die statistische Transformation <code>stat_count()</code>) durchgeführt, oder anders gesagt, wir können an <code>geom_bar()</code> den Datensatz (hier <code>gapminder</code>) anstatt von vorab berechneten Werten übergeben.</p>
<div class="sourceCode" id="cb47"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb47-1"><a href="basic-data-care.html#cb47-1"></a><span class="kw">table</span>(gapminder<span class="op">$</span>continent)</span>
<span id="cb47-2"><a href="basic-data-care.html#cb47-2"></a><span class="co">#&gt; </span></span>
<span id="cb47-3"><a href="basic-data-care.html#cb47-3"></a><span class="co">#&gt;   Africa Americas     Asia   Europe  Oceania </span></span>
<span id="cb47-4"><a href="basic-data-care.html#cb47-4"></a><span class="co">#&gt;      624      300      396      360       24</span></span>
<span id="cb47-5"><a href="basic-data-care.html#cb47-5"></a><span class="kw">ggplot</span>(gapminder, <span class="kw">aes</span>(<span class="dt">x =</span> continent)) <span class="op">+</span><span class="st"> </span><span class="kw">geom_bar</span>()</span></code></pre></div>
<p><img src="05_data-care-feeding_files/figure-html/tabulate-continent-1.png" width="672" /></p>
<p>In den folgenden Abbildungen sehen wir, wie Faktoren in Zahlen umgesetzt werden können. Der <code>continent</code>-Faktor lässt sich durch das <a href="https://ggplot2.tidyverse.org">ggplot2</a>-Paket leicht in “Facetten” oder Farben und eine Legende abbilden.</p>
<p><em>Die Erstellung von Grafiken mit ggplot2 werden wir noch genauer besprechen. Daher kannst du dich also ruhig zurücklehnen und die Plots genießen oder blind kopieren/einfügen.</em></p>
<div class="sourceCode" id="cb48"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb48-1"><a href="basic-data-care.html#cb48-1"></a><span class="co"># wir initialisieren ein grafik (ohne inhalt)</span></span>
<span id="cb48-2"><a href="basic-data-care.html#cb48-2"></a>p &lt;-<span class="st"> </span><span class="kw">ggplot</span>(<span class="kw">filter</span>(gapminder, continent <span class="op">!=</span><span class="st"> &quot;Oceania&quot;</span>),</span>
<span id="cb48-3"><a href="basic-data-care.html#cb48-3"></a>            <span class="kw">aes</span>(<span class="dt">x =</span> gdpPercap, <span class="dt">y =</span> lifeExp))  </span>
<span id="cb48-4"><a href="basic-data-care.html#cb48-4"></a>p &lt;-<span class="st"> </span>p <span class="op">+</span><span class="st"> </span><span class="kw">scale_x_log10</span>() <span class="co"># auf der x-achse soll eine log skala verwendet werden</span></span>
<span id="cb48-5"><a href="basic-data-care.html#cb48-5"></a>p <span class="op">+</span><span class="st"> </span><span class="kw">geom_point</span>() <span class="co"># ein scatterplot</span></span>
<span id="cb48-6"><a href="basic-data-care.html#cb48-6"></a>p <span class="op">+</span><span class="st"> </span><span class="kw">geom_point</span>(<span class="kw">aes</span>(<span class="dt">color =</span> continent)) <span class="co"># für verschiedene kontinente werden verschiedene farben verwendet</span></span>
<span id="cb48-7"><a href="basic-data-care.html#cb48-7"></a>p <span class="op">+</span><span class="st"> </span><span class="kw">geom_point</span>(<span class="dt">alpha =</span> (<span class="dv">1</span><span class="op">/</span><span class="dv">3</span>), <span class="dt">size =</span> <span class="dv">3</span>) <span class="op">+</span><span class="st"> </span><span class="co"># punkte mit transparenz</span></span>
<span id="cb48-8"><a href="basic-data-care.html#cb48-8"></a><span class="st">  </span><span class="kw">geom_smooth</span>(<span class="dt">lwd =</span> <span class="dv">3</span>, <span class="dt">se =</span> <span class="ot">FALSE</span>) <span class="co"># geglätter zusammenhang</span></span>
<span id="cb48-9"><a href="basic-data-care.html#cb48-9"></a><span class="co">#&gt; `geom_smooth()` using method = &#39;gam&#39; and formula &#39;y ~ s(x, bs = &quot;cs&quot;)&#39;</span></span>
<span id="cb48-10"><a href="basic-data-care.html#cb48-10"></a>p <span class="op">+</span><span class="st"> </span><span class="kw">geom_point</span>(<span class="dt">alpha =</span> (<span class="dv">1</span><span class="op">/</span><span class="dv">3</span>), <span class="dt">size =</span> <span class="dv">3</span>) <span class="op">+</span><span class="st"> </span></span>
<span id="cb48-11"><a href="basic-data-care.html#cb48-11"></a><span class="st">  </span><span class="kw">facet_wrap</span>(<span class="op">~</span><span class="st"> </span>continent) <span class="op">+</span><span class="st"> </span><span class="co"># für jeden kontinent wird eine eigener</span></span>
<span id="cb48-12"><a href="basic-data-care.html#cb48-12"></a><span class="st">  </span><span class="co"># plot (innerhalb einer grafik) erzeugt</span></span>
<span id="cb48-13"><a href="basic-data-care.html#cb48-13"></a><span class="st">  </span><span class="kw">geom_smooth</span>(<span class="dt">lwd =</span> <span class="fl">1.5</span>, <span class="dt">se =</span> <span class="ot">FALSE</span>)</span>
<span id="cb48-14"><a href="basic-data-care.html#cb48-14"></a><span class="co">#&gt; `geom_smooth()` using method = &#39;loess&#39; and formula &#39;y ~ x&#39;</span></span></code></pre></div>
<p><img src="05_data-care-feeding_files/figure-html/factors-nice-for-plots-1.png" width="49%" /><img src="05_data-care-feeding_files/figure-html/factors-nice-for-plots-2.png" width="49%" /><img src="05_data-care-feeding_files/figure-html/factors-nice-for-plots-3.png" width="49%" /><img src="05_data-care-feeding_files/figure-html/factors-nice-for-plots-4.png" width="49%" /></p>
</div>
<div id="recap" class="section level2">
<h2><span class="header-section-number">5.5</span> Recap</h2>
<ul>
<li><p>Benutze data frames!!!</p></li>
<li><p>Benutze <a href="https://tidyverse.tidyverse.org">tidyverse</a>!!! Dadurch wird eine spezielle Art von data frames, ein “tibble”, bereitgestellt, die neben anderen Vorteilen ein nettes Standarddruckverhalten aufweist.</p></li>
<li><p>Im Zweifelsfall kannst du dir immer Inhalte anzeigen lassen über <code>str()</code> oder im Fall eines tibbles, einfach das tibble selbst aufrufen.</p></li>
<li><p>Sei dir immer über die Anzahl an Zeilen und Spalten deiner data frames bewusst.</p></li>
<li><p>Sei dir im Klaren welche Art (numerisch, kategorial, …) von Variablen in deinen data frames enthalten sind.</p></li>
<li><p>Benutze factors!!! Aber mach das bewusst und mit Vorsicht.</p></li>
<li><p>Führe für jede Variable eine grundlegende statistische und visuelle Überprüfung durch.</p></li>
<li><p>Ruf Variablen mit ihrem Namen auf, z.B. <code>gapminder$lifeExp</code>, nicht mit der Spaltennummer. Dein Code wird dadurch robuster und lesbarer sein.</p></li>
</ul>
<!--STAT 545 external resources/content-->
<!--Packages: main link-->
<!--Packages: vignettes & CRAN/GitHub links-->
<!--Bookdowns: main link-->
<!--Bookdowns: specific chapters-->
<!--RStudio Cheat Sheets-->
<!--Blog posts, slides, & papers-->
<!--Papers/Books Cited-->
<!--Misc.-->

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="r-markdown.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="dplyr-intro.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": false,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["R4ews.epub"],
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
