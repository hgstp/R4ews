<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Kapitel 6 Einführung in dplyr | R4ews MA0009</title>
  <meta name="description" content="R4ews: R Ergänzung zum Modul MA009." />
  <meta name="generator" content="bookdown 0.20 and GitBook 2.6.7" />

  <meta property="og:title" content="Kapitel 6 Einführung in dplyr | R4ews MA0009" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="R4ews: R Ergänzung zum Modul MA009." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Kapitel 6 Einführung in dplyr | R4ews MA0009" />
  
  <meta name="twitter:description" content="R4ews: R Ergänzung zum Modul MA009." />
  

<meta name="author" content="Stephan Haug" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="basic-data-care.html"/>
<link rel="next" href="dplyr-single.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>
<link href="libs/font-awesome-5.1.0/css/all.css" rel="stylesheet" />
<link href="libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet" />
<html>
  
  <head>
  <script src="anchor-links.js"></script>
  
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-68219208-1"></script>
  <script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-68219208-1');
  </script>

  </head>

</html>


<style type="text/css">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="assets/style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Willkommen zur R Ergänzung zur Einführung in die Wahrscheinlichkeitstheorie und Statistik</a><ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#beteiligte-personen"><i class="fa fa-check"></i>Beteiligte Personen</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#kolophon"><i class="fa fa-check"></i>Kolophon</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#lizenz"><i class="fa fa-check"></i>Lizenz</a></li>
</ul></li>
<li class="part"><span><b>I R, wie fange ich an</b></span></li>
<li class="chapter" data-level="1" data-path="install.html"><a href="install.html"><i class="fa fa-check"></i><b>1</b> Installieren von R und RStudio</a><ul>
<li class="chapter" data-level="1.1" data-path="install.html"><a href="install.html#r-und-rstudio"><i class="fa fa-check"></i><b>1.1</b> R und RStudio</a></li>
<li class="chapter" data-level="1.2" data-path="install.html"><a href="install.html#funktioniert-ausprobieren"><i class="fa fa-check"></i><b>1.2</b> Funktioniert? Ausprobieren</a></li>
<li class="chapter" data-level="1.3" data-path="install.html"><a href="install.html#add-on-packages"><i class="fa fa-check"></i><b>1.3</b> Add-on packages</a></li>
<li class="chapter" data-level="1.4" data-path="install.html"><a href="install.html#rstudio-primers"><i class="fa fa-check"></i><b>1.4</b> RStudio Primers</a></li>
<li class="chapter" data-level="1.5" data-path="install.html"><a href="install.html#aufgabe"><i class="fa fa-check"></i><b>1.5</b> Aufgabe</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="r-basics.html"><a href="r-basics.html"><i class="fa fa-check"></i><b>2</b> R Basics und Arbeitsabläufe</a><ul>
<li class="chapter" data-level="2.1" data-path="r-basics.html"><a href="r-basics.html#ein-paar-grundlagen-für-das-arbeiten-mit-r"><i class="fa fa-check"></i><b>2.1</b> Ein paar Grundlagen für das Arbeiten mit R</a></li>
<li class="chapter" data-level="2.2" data-path="r-basics.html"><a href="r-basics.html#workspace-und-working-directory"><i class="fa fa-check"></i><b>2.2</b> Workspace und working directory</a><ul>
<li class="chapter" data-level="2.2.1" data-path="r-basics.html"><a href="r-basics.html#workspace-.rdata"><i class="fa fa-check"></i><b>2.2.1</b> Workspace, <code>.RData</code></a></li>
<li class="chapter" data-level="2.2.2" data-path="r-basics.html"><a href="r-basics.html#working-directory"><i class="fa fa-check"></i><b>2.2.2</b> Working directory</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="r-basics.html"><a href="r-basics.html#rprojs"><i class="fa fa-check"></i><b>2.3</b> RStudio Projects</a></li>
<li class="chapter" data-level="2.4" data-path="r-basics.html"><a href="r-basics.html#zuletzt-noch"><i class="fa fa-check"></i><b>2.4</b> Zuletzt noch</a></li>
</ul></li>
<li class="part"><span><b>II Versionskontrolle und R Markdown</b></span></li>
<li class="chapter" data-level="3" data-path="version-control.html"><a href="version-control.html"><i class="fa fa-check"></i><b>3</b> Git, GitHub, and RStudio</a></li>
<li class="chapter" data-level="4" data-path="r-markdown.html"><a href="r-markdown.html"><i class="fa fa-check"></i><b>4</b> R Markdown</a></li>
<li class="part"><span><b>III Datenanalyse Teil 1</b></span></li>
<li class="chapter" data-level="5" data-path="basic-data-care.html"><a href="basic-data-care.html"><i class="fa fa-check"></i><b>5</b> Letzte Vorbereitungen …</a><ul>
<li class="chapter" data-level="5.1" data-path="basic-data-care.html"><a href="basic-data-care.html#data-frames-sind-fantastisch"><i class="fa fa-check"></i><b>5.1</b> Data Frames sind fantastisch</a></li>
<li class="chapter" data-level="5.2" data-path="basic-data-care.html"><a href="basic-data-care.html#gapminder-data"><i class="fa fa-check"></i><b>5.2</b> Gapminder data</a></li>
<li class="chapter" data-level="5.3" data-path="basic-data-care.html"><a href="basic-data-care.html#die-gapminder-daten-sind-ein-tibble"><i class="fa fa-check"></i><b>5.3</b> Die <code>gapminder</code> Daten sind ein “tibble”</a></li>
<li class="chapter" data-level="5.4" data-path="basic-data-care.html"><a href="basic-data-care.html#variablen-in-einem-data-frame"><i class="fa fa-check"></i><b>5.4</b> Variablen in einem Data Frame</a></li>
<li class="chapter" data-level="5.5" data-path="basic-data-care.html"><a href="basic-data-care.html#recap"><i class="fa fa-check"></i><b>5.5</b> Recap</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="dplyr-intro.html"><a href="dplyr-intro.html"><i class="fa fa-check"></i><b>6</b> Einführung in dplyr</a><ul>
<li class="chapter" data-level="6.1" data-path="dplyr-intro.html"><a href="dplyr-intro.html#einstieg"><i class="fa fa-check"></i><b>6.1</b> Einstieg</a><ul>
<li class="chapter" data-level="6.1.1" data-path="dplyr-intro.html"><a href="dplyr-intro.html#wie-immer-laden-wir-zu-beginn-tidyverse"><i class="fa fa-check"></i><b>6.1.1</b> Wie immer, laden wir zu Beginn <code>tidyverse</code></a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="dplyr-intro.html"><a href="dplyr-intro.html#filter-indizieren-von-zeilen"><i class="fa fa-check"></i><b>6.2</b> <code>filter()</code>: Indizieren von Zeilen</a></li>
<li class="chapter" data-level="6.3" data-path="dplyr-intro.html"><a href="dplyr-intro.html#der-pipe-operator"><i class="fa fa-check"></i><b>6.3</b> Der Pipe-Operator</a></li>
<li class="chapter" data-level="6.4" data-path="dplyr-intro.html"><a href="dplyr-intro.html#mit-select-variablen-auswählen"><i class="fa fa-check"></i><b>6.4</b> Mit <code>select()</code> Variablen auswählen</a></li>
<li class="chapter" data-level="6.5" data-path="dplyr-intro.html"><a href="dplyr-intro.html#jetzt-nochmal-ein-vergleich-zu-r-standardbefehlen"><i class="fa fa-check"></i><b>6.5</b> Jetzt nochmal ein Vergleich zu R Standardbefehlen</a></li>
<li class="chapter" data-level="6.6" data-path="dplyr-intro.html"><a href="dplyr-intro.html#pure-predictable-pipeable"><i class="fa fa-check"></i><b>6.6</b> Pure, predictable, pipeable</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="dplyr-single.html"><a href="dplyr-single.html"><i class="fa fa-check"></i><b>7</b> Mehr zu <code>dplyr</code></a><ul>
<li class="chapter" data-level="7.1" data-path="dplyr-single.html"><a href="dplyr-single.html#wo-stehen-wir"><i class="fa fa-check"></i><b>7.1</b> Wo stehen wir?</a></li>
<li class="chapter" data-level="7.2" data-path="dplyr-single.html"><a href="dplyr-single.html#falls-noch-nicht-geschehen-lade-dplyr-und-gapminder"><i class="fa fa-check"></i><b>7.2</b> Falls noch nicht geschehen: lade <code>dplyr</code> und <code>gapminder</code></a></li>
<li class="chapter" data-level="7.3" data-path="dplyr-single.html"><a href="dplyr-single.html#mitmutate-neue-variablen-erstellen"><i class="fa fa-check"></i><b>7.3</b> Mit<code>mutate()</code> neue Variablen erstellen</a></li>
<li class="chapter" data-level="7.4" data-path="dplyr-single.html"><a href="dplyr-single.html#mit-arrange-die-zeilenreihenfolge-ändern"><i class="fa fa-check"></i><b>7.4</b> Mit <code>arrange()</code> die Zeilenreihenfolge ändern</a></li>
<li class="chapter" data-level="7.5" data-path="dplyr-single.html"><a href="dplyr-single.html#mit-rename-schöne-namen-vergeben"><i class="fa fa-check"></i><b>7.5</b> Mit <code>rename()</code> “schöne” Namen vergeben</a></li>
<li class="chapter" data-level="7.6" data-path="dplyr-single.html"><a href="dplyr-single.html#group_by-macht-das-r-leben-einfacher"><i class="fa fa-check"></i><b>7.6</b> <code>group_by()</code> macht das R Leben einfacher</a><ul>
<li class="chapter" data-level="7.6.1" data-path="dplyr-single.html"><a href="dplyr-single.html#die-dinge-aufzählen"><i class="fa fa-check"></i><b>7.6.1</b> Die Dinge aufzählen</a></li>
<li class="chapter" data-level="7.6.2" data-path="dplyr-single.html"><a href="dplyr-single.html#deskriptive-statistiken-mit-summarise"><i class="fa fa-check"></i><b>7.6.2</b> Deskriptive Statistiken mit <code>summarise()</code></a></li>
</ul></li>
<li class="chapter" data-level="7.7" data-path="dplyr-single.html"><a href="dplyr-single.html#gruppierte-veränderungen"><i class="fa fa-check"></i><b>7.7</b> Gruppierte Veränderungen</a><ul>
<li class="chapter" data-level="7.7.1" data-path="dplyr-single.html"><a href="dplyr-single.html#berechnungen-innerhalb-der-gruppen"><i class="fa fa-check"></i><b>7.7.1</b> Berechnungen innerhalb der Gruppen</a></li>
<li class="chapter" data-level="7.7.2" data-path="dplyr-single.html"><a href="dplyr-single.html#window-functions"><i class="fa fa-check"></i><b>7.7.2</b> Window Funktionen</a></li>
</ul></li>
<li class="chapter" data-level="7.8" data-path="dplyr-single.html"><a href="dplyr-single.html#großes-finale"><i class="fa fa-check"></i><b>7.8</b> Großes Finale</a></li>
<li class="chapter" data-level="7.9" data-path="dplyr-single.html"><a href="dplyr-single.html#weiteres-material"><i class="fa fa-check"></i><b>7.9</b> Weiteres Material</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="literatur.html"><a href="literatur.html"><i class="fa fa-check"></i>Literatur</a></li>
<li class="divider"></li>
<li><center>
  <a rel="license" href="./index.html#license">
    License: CC-BY-SA<br>
    <i class = "fab fa-creative-commons fa-2x"></i>
    <i class = "fab fa-creative-commons-by fa-2x"></i>
    <i class = "fab fa-creative-commons-sa fa-2x"></i>
  </a>
</li></center>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">R4ews MA0009</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="dplyr-intro" class="section level1">
<h1><span class="header-section-number">Kapitel 6</span> Einführung in dplyr</h1>
<div id="einstieg" class="section level2">
<h2><span class="header-section-number">6.1</span> Einstieg</h2>
<p><a href="https://dplyr.tidyverse.org">dplyr</a> ist ein Paket zur Datenmanipulation, entwickelt von Hadley Wickham und Romain Francois. In erster Linie will es schnell und ausdrucksstark sein. Es wird als Teil des “Metapakets” <a href="https://tidyverse.tidyverse.org">tidyverse</a> installiert und gehört als Kernpaket zu den Paketen, die über <code>library(tidyverse)</code> geladen werden.</p>
<p>Die Wurzeln von <code>dplyr</code> liegen in einem früheren Paket mit dem Namen <a href="http://plyr.had.co.nz">plyr</a>, das zum Ziel hat die <a href="https://www.jstatsoft.org/article/view/v040i01">“split-apply-combine”-Strategie der Datenanalyse</a> <span class="citation">(Wickham <a href="literatur.html#ref-wickham2011a" role="doc-biblioref">2011</a>)</span> umzusetzen. Wo <code>plyr</code> noch einen vielfältigen Satz von Ein- und Ausgaben abdeckt (z.B. Arrays, data frames, Listen), hat <code>dplyr</code> einen klaren Fokus auf data frames oder, im Tidyverse, <strong>tibbles</strong>.</p>
<p><code>dplyr</code> bietet schnelle Alternativen zu den R Standardfunktionen: <code>subset()</code>, <code>apply()</code>, <code>[sl]apply()</code>, <code>tapply()</code>, <code>aggregate()</code>, <code>split()</code>, <code>do.call()</code>, <code>with()</code>, <code>within()</code>, und mehr. Ferner kann man <code>dplyr</code> nutzen um über Zeilen oder Gruppen von Zeilen zu iterieren, was eine schnelle Alternative zur Nutzung von <code>for</code> Schleifen darstellt.</p>
<div id="wie-immer-laden-wir-zu-beginn-tidyverse" class="section level3">
<h3><span class="header-section-number">6.1.1</span> Wie immer, laden wir zu Beginn <code>tidyverse</code></h3>
<p>Der Fokus liegt in diesem Abschnitt auf <code>dplyr</code>. Aber da wir immer wieder auch Funktionen aus anderen “tidyverse-Paketen” nutzen, laden wir stets <code>tidyverse</code>.</p>
<div class="sourceCode" id="cb49"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb49-1"><a href="dplyr-intro.html#cb49-1"></a><span class="kw">library</span>(tidyverse)</span>
<span id="cb49-2"><a href="dplyr-intro.html#cb49-2"></a><span class="co">#&gt; ── Attaching packages ────────</span></span>
<span id="cb49-3"><a href="dplyr-intro.html#cb49-3"></a><span class="co">#&gt; ✓ ggplot2 3.3.2     ✓ purrr   0.3.4</span></span>
<span id="cb49-4"><a href="dplyr-intro.html#cb49-4"></a><span class="co">#&gt; ✓ tibble  3.0.3     ✓ dplyr   1.0.2</span></span>
<span id="cb49-5"><a href="dplyr-intro.html#cb49-5"></a><span class="co">#&gt; ✓ tidyr   1.1.2     ✓ stringr 1.4.0</span></span>
<span id="cb49-6"><a href="dplyr-intro.html#cb49-6"></a><span class="co">#&gt; ✓ readr   1.3.1     ✓ forcats 0.5.0</span></span>
<span id="cb49-7"><a href="dplyr-intro.html#cb49-7"></a><span class="co">#&gt; ── Conflicts ─────────────────</span></span>
<span id="cb49-8"><a href="dplyr-intro.html#cb49-8"></a><span class="co">#&gt; x dplyr::filter() masks stats::filter()</span></span>
<span id="cb49-9"><a href="dplyr-intro.html#cb49-9"></a><span class="co">#&gt; x dplyr::lag()    masks stats::lag()</span></span></code></pre></div>
<p>Zusätzlich wollen wir auch noch <a href="https://github.com/jennybc/gapminder">gapminder</a> laden.</p>
<div class="sourceCode" id="cb50"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb50-1"><a href="dplyr-intro.html#cb50-1"></a><span class="kw">library</span>(gapminder)</span></code></pre></div>
</div>
</div>
<div id="filter-indizieren-von-zeilen" class="section level2">
<h2><span class="header-section-number">6.2</span> <code>filter()</code>: Indizieren von Zeilen</h2>
<p><code>filter()</code> nimmt logische Ausdrücke und gibt die Zeilen zurück, für die der logische Ausdruck ein <code>TRUE</code> ergibt.</p>
<div class="sourceCode" id="cb51"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb51-1"><a href="dplyr-intro.html#cb51-1"></a><span class="kw">filter</span>(gapminder, lifeExp <span class="op">&lt;</span><span class="st"> </span><span class="dv">29</span>)</span>
<span id="cb51-2"><a href="dplyr-intro.html#cb51-2"></a><span class="co">#&gt; # A tibble: 2 x 6</span></span>
<span id="cb51-3"><a href="dplyr-intro.html#cb51-3"></a><span class="co">#&gt;   country     continent  year lifeExp     pop gdpPercap</span></span>
<span id="cb51-4"><a href="dplyr-intro.html#cb51-4"></a><span class="co">#&gt;   &lt;fct&gt;       &lt;fct&gt;     &lt;int&gt;   &lt;dbl&gt;   &lt;int&gt;     &lt;dbl&gt;</span></span>
<span id="cb51-5"><a href="dplyr-intro.html#cb51-5"></a><span class="co">#&gt; 1 Afghanistan Asia       1952    28.8 8425333      779.</span></span>
<span id="cb51-6"><a href="dplyr-intro.html#cb51-6"></a><span class="co">#&gt; 2 Rwanda      Africa     1992    23.6 7290203      737.</span></span>
<span id="cb51-7"><a href="dplyr-intro.html#cb51-7"></a><span class="kw">filter</span>(gapminder, country <span class="op">==</span><span class="st"> &quot;Rwanda&quot;</span>, year <span class="op">&gt;</span><span class="st"> </span><span class="dv">1979</span>)</span>
<span id="cb51-8"><a href="dplyr-intro.html#cb51-8"></a><span class="co">#&gt; # A tibble: 6 x 6</span></span>
<span id="cb51-9"><a href="dplyr-intro.html#cb51-9"></a><span class="co">#&gt;   country continent  year lifeExp     pop gdpPercap</span></span>
<span id="cb51-10"><a href="dplyr-intro.html#cb51-10"></a><span class="co">#&gt;   &lt;fct&gt;   &lt;fct&gt;     &lt;int&gt;   &lt;dbl&gt;   &lt;int&gt;     &lt;dbl&gt;</span></span>
<span id="cb51-11"><a href="dplyr-intro.html#cb51-11"></a><span class="co">#&gt; 1 Rwanda  Africa     1982    46.2 5507565      882.</span></span>
<span id="cb51-12"><a href="dplyr-intro.html#cb51-12"></a><span class="co">#&gt; 2 Rwanda  Africa     1987    44.0 6349365      848.</span></span>
<span id="cb51-13"><a href="dplyr-intro.html#cb51-13"></a><span class="co">#&gt; 3 Rwanda  Africa     1992    23.6 7290203      737.</span></span>
<span id="cb51-14"><a href="dplyr-intro.html#cb51-14"></a><span class="co">#&gt; 4 Rwanda  Africa     1997    36.1 7212583      590.</span></span>
<span id="cb51-15"><a href="dplyr-intro.html#cb51-15"></a><span class="co">#&gt; 5 Rwanda  Africa     2002    43.4 7852401      786.</span></span>
<span id="cb51-16"><a href="dplyr-intro.html#cb51-16"></a><span class="co">#&gt; 6 Rwanda  Africa     2007    46.2 8860588      863.</span></span>
<span id="cb51-17"><a href="dplyr-intro.html#cb51-17"></a><span class="kw">filter</span>(gapminder, country <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Rwanda&quot;</span>, <span class="st">&quot;Afghanistan&quot;</span>))</span>
<span id="cb51-18"><a href="dplyr-intro.html#cb51-18"></a><span class="co">#&gt; # A tibble: 24 x 6</span></span>
<span id="cb51-19"><a href="dplyr-intro.html#cb51-19"></a><span class="co">#&gt;    country     continent  year lifeExp      pop gdpPercap</span></span>
<span id="cb51-20"><a href="dplyr-intro.html#cb51-20"></a><span class="co">#&gt;    &lt;fct&gt;       &lt;fct&gt;     &lt;int&gt;   &lt;dbl&gt;    &lt;int&gt;     &lt;dbl&gt;</span></span>
<span id="cb51-21"><a href="dplyr-intro.html#cb51-21"></a><span class="co">#&gt;  1 Afghanistan Asia       1952    28.8  8425333      779.</span></span>
<span id="cb51-22"><a href="dplyr-intro.html#cb51-22"></a><span class="co">#&gt;  2 Afghanistan Asia       1957    30.3  9240934      821.</span></span>
<span id="cb51-23"><a href="dplyr-intro.html#cb51-23"></a><span class="co">#&gt;  3 Afghanistan Asia       1962    32.0 10267083      853.</span></span>
<span id="cb51-24"><a href="dplyr-intro.html#cb51-24"></a><span class="co">#&gt;  4 Afghanistan Asia       1967    34.0 11537966      836.</span></span>
<span id="cb51-25"><a href="dplyr-intro.html#cb51-25"></a><span class="co">#&gt;  5 Afghanistan Asia       1972    36.1 13079460      740.</span></span>
<span id="cb51-26"><a href="dplyr-intro.html#cb51-26"></a><span class="co">#&gt;  6 Afghanistan Asia       1977    38.4 14880372      786.</span></span>
<span id="cb51-27"><a href="dplyr-intro.html#cb51-27"></a><span class="co">#&gt;  7 Afghanistan Asia       1982    39.9 12881816      978.</span></span>
<span id="cb51-28"><a href="dplyr-intro.html#cb51-28"></a><span class="co">#&gt;  8 Afghanistan Asia       1987    40.8 13867957      852.</span></span>
<span id="cb51-29"><a href="dplyr-intro.html#cb51-29"></a><span class="co">#&gt;  9 Afghanistan Asia       1992    41.7 16317921      649.</span></span>
<span id="cb51-30"><a href="dplyr-intro.html#cb51-30"></a><span class="co">#&gt; 10 Afghanistan Asia       1997    41.8 22227415      635.</span></span>
<span id="cb51-31"><a href="dplyr-intro.html#cb51-31"></a><span class="co">#&gt; # … with 14 more rows</span></span></code></pre></div>
<p>Zum Vergleich kann man sich einen R Standardbefehl anschauen, der zum gleichen Ergebnis führt:</p>
<div class="sourceCode" id="cb52"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb52-1"><a href="dplyr-intro.html#cb52-1"></a>gapminder[gapminder<span class="op">$</span>lifeExp <span class="op">&lt;</span><span class="st"> </span><span class="dv">29</span>, ] </span>
<span id="cb52-2"><a href="dplyr-intro.html#cb52-2"></a><span class="kw">subset</span>(gapminder, country <span class="op">==</span><span class="st"> &quot;Rwanda&quot;</span> <span class="op">&amp;</span><span class="st"> </span>year <span class="op">&gt;</span><span class="st"> </span><span class="dv">1979</span>) <span class="co">## subset funktioniert ähnlich wir filter</span></span></code></pre></div>
<p>Unter keinen Umständen solltest du allerdings deine Daten so unterteilen, wie hier:</p>
<div class="sourceCode" id="cb53"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb53-1"><a href="dplyr-intro.html#cb53-1"></a>auswahl &lt;-<span class="st"> </span>gapminder[<span class="dv">241</span><span class="op">:</span><span class="dv">252</span>, ]</span></code></pre></div>
<p>Warum ist das eine blöde Idee?</p>
<ul>
<li>Es ist nicht selbstdokumentierend. Was ist das Besondere an den Zeilen 241 bis 252?</li>
<li>Es ist fehleranfällig. Diese Codezeile wird zu anderen Ergebnissen führen, wenn jemand die Zeilenreihenfolge von <code>gapminder</code> ändert, z.B. die Daten früher im Skript sortiert.</li>
</ul>
<div class="sourceCode" id="cb54"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb54-1"><a href="dplyr-intro.html#cb54-1"></a><span class="kw">filter</span>(gapminder, country <span class="op">==</span><span class="st"> &quot;Canada&quot;</span>)</span></code></pre></div>
<p>Dieser Aufruf erklärt sich von selbst und ist ziemlich robust.</p>
</div>
<div id="der-pipe-operator" class="section level2">
<h2><span class="header-section-number">6.3</span> Der Pipe-Operator</h2>
<p>Bevor es weitergeht, wollen wir aber den Pipe-Operator, den das Tidyverse aus dem <a href="https://magrittr.tidyverse.org">magrittr</a>-Paket von Stefan Bache importiert, vorstellen. Mithilfe des Pipe-Operators ist man in der Lage Befehle für mehrere Operationen auszuführen, ohne sie ineinander zu verschachteln. Diese neue Syntax führt zu Code, der viel einfacher zu schreiben und zu lesen ist.</p>
<p>Und so sieht er aus: <code>%&gt;%</code>. Das entsprechende RStudio Tastenkürzel lautet: Ctrl+Shift+M (Windows), Cmd+Shift+M (Mac).</p>
<p>Erstmal ein Beispiel</p>
<div class="sourceCode" id="cb55"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb55-1"><a href="dplyr-intro.html#cb55-1"></a>gapminder <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">head</span>()</span>
<span id="cb55-2"><a href="dplyr-intro.html#cb55-2"></a><span class="co">#&gt; # A tibble: 6 x 6</span></span>
<span id="cb55-3"><a href="dplyr-intro.html#cb55-3"></a><span class="co">#&gt;   country     continent  year lifeExp      pop gdpPercap</span></span>
<span id="cb55-4"><a href="dplyr-intro.html#cb55-4"></a><span class="co">#&gt;   &lt;fct&gt;       &lt;fct&gt;     &lt;int&gt;   &lt;dbl&gt;    &lt;int&gt;     &lt;dbl&gt;</span></span>
<span id="cb55-5"><a href="dplyr-intro.html#cb55-5"></a><span class="co">#&gt; 1 Afghanistan Asia       1952    28.8  8425333      779.</span></span>
<span id="cb55-6"><a href="dplyr-intro.html#cb55-6"></a><span class="co">#&gt; 2 Afghanistan Asia       1957    30.3  9240934      821.</span></span>
<span id="cb55-7"><a href="dplyr-intro.html#cb55-7"></a><span class="co">#&gt; 3 Afghanistan Asia       1962    32.0 10267083      853.</span></span>
<span id="cb55-8"><a href="dplyr-intro.html#cb55-8"></a><span class="co">#&gt; 4 Afghanistan Asia       1967    34.0 11537966      836.</span></span>
<span id="cb55-9"><a href="dplyr-intro.html#cb55-9"></a><span class="co">#&gt; 5 Afghanistan Asia       1972    36.1 13079460      740.</span></span>
<span id="cb55-10"><a href="dplyr-intro.html#cb55-10"></a><span class="co">#&gt; 6 Afghanistan Asia       1977    38.4 14880372      786.</span></span></code></pre></div>
<p>Du siehst, der Befehl ist äquivalent zu <code>head(gapminder)</code>. Der Pipe-Operator nimmt das Objekt auf der linken Seite und leitet es in den Funktionsaufruf auf der rechten Seite weiter - er gibt es buchstäblich als erstes Argument ein.</p>
<p>Keine Angst, du kannst immer noch weitere Argumente für die Funktion auf der rechten Seite angeben! Um die ersten 3 Reihen von <code>gapminder</code> zu sehen, könnte man sagen: <code>head(gapminder, 3)</code> oder:</p>
<div class="sourceCode" id="cb56"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb56-1"><a href="dplyr-intro.html#cb56-1"></a>gapminder <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">head</span>(<span class="dv">3</span>)</span>
<span id="cb56-2"><a href="dplyr-intro.html#cb56-2"></a><span class="co">#&gt; # A tibble: 3 x 6</span></span>
<span id="cb56-3"><a href="dplyr-intro.html#cb56-3"></a><span class="co">#&gt;   country     continent  year lifeExp      pop gdpPercap</span></span>
<span id="cb56-4"><a href="dplyr-intro.html#cb56-4"></a><span class="co">#&gt;   &lt;fct&gt;       &lt;fct&gt;     &lt;int&gt;   &lt;dbl&gt;    &lt;int&gt;     &lt;dbl&gt;</span></span>
<span id="cb56-5"><a href="dplyr-intro.html#cb56-5"></a><span class="co">#&gt; 1 Afghanistan Asia       1952    28.8  8425333      779.</span></span>
<span id="cb56-6"><a href="dplyr-intro.html#cb56-6"></a><span class="co">#&gt; 2 Afghanistan Asia       1957    30.3  9240934      821.</span></span>
<span id="cb56-7"><a href="dplyr-intro.html#cb56-7"></a><span class="co">#&gt; 3 Afghanistan Asia       1962    32.0 10267083      853.</span></span></code></pre></div>
<p>Du bist wahrscheinlich noch nicht sehr beeindruckt, aber das sollte sich noch ändern.</p>
</div>
<div id="mit-select-variablen-auswählen" class="section level2">
<h2><span class="header-section-number">6.4</span> Mit <code>select()</code> Variablen auswählen</h2>
<p>Nun zurück zu <code>dplyr</code>….</p>
<p>Verwende <code>select()</code>, um aus den Daten verschiedene Variablen (Spalten) auszuwählen. Hier kommt eine typische Verwendung von <code>select()</code>:</p>
<div class="sourceCode" id="cb57"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb57-1"><a href="dplyr-intro.html#cb57-1"></a><span class="kw">select</span>(gapminder, year, lifeExp)</span>
<span id="cb57-2"><a href="dplyr-intro.html#cb57-2"></a><span class="co">#&gt; # A tibble: 1,704 x 2</span></span>
<span id="cb57-3"><a href="dplyr-intro.html#cb57-3"></a><span class="co">#&gt;     year lifeExp</span></span>
<span id="cb57-4"><a href="dplyr-intro.html#cb57-4"></a><span class="co">#&gt;    &lt;int&gt;   &lt;dbl&gt;</span></span>
<span id="cb57-5"><a href="dplyr-intro.html#cb57-5"></a><span class="co">#&gt;  1  1952    28.8</span></span>
<span id="cb57-6"><a href="dplyr-intro.html#cb57-6"></a><span class="co">#&gt;  2  1957    30.3</span></span>
<span id="cb57-7"><a href="dplyr-intro.html#cb57-7"></a><span class="co">#&gt;  3  1962    32.0</span></span>
<span id="cb57-8"><a href="dplyr-intro.html#cb57-8"></a><span class="co">#&gt;  4  1967    34.0</span></span>
<span id="cb57-9"><a href="dplyr-intro.html#cb57-9"></a><span class="co">#&gt;  5  1972    36.1</span></span>
<span id="cb57-10"><a href="dplyr-intro.html#cb57-10"></a><span class="co">#&gt;  6  1977    38.4</span></span>
<span id="cb57-11"><a href="dplyr-intro.html#cb57-11"></a><span class="co">#&gt;  7  1982    39.9</span></span>
<span id="cb57-12"><a href="dplyr-intro.html#cb57-12"></a><span class="co">#&gt;  8  1987    40.8</span></span>
<span id="cb57-13"><a href="dplyr-intro.html#cb57-13"></a><span class="co">#&gt;  9  1992    41.7</span></span>
<span id="cb57-14"><a href="dplyr-intro.html#cb57-14"></a><span class="co">#&gt; 10  1997    41.8</span></span>
<span id="cb57-15"><a href="dplyr-intro.html#cb57-15"></a><span class="co">#&gt; # … with 1,694 more rows</span></span></code></pre></div>
<p>Und nun noch kombiniert mit <code>head()</code> über den Pipe-Operator:</p>
<div class="sourceCode" id="cb58"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb58-1"><a href="dplyr-intro.html#cb58-1"></a>gapminder <span class="op">%&gt;%</span></span>
<span id="cb58-2"><a href="dplyr-intro.html#cb58-2"></a><span class="st">  </span><span class="kw">select</span>(year, lifeExp) <span class="op">%&gt;%</span></span>
<span id="cb58-3"><a href="dplyr-intro.html#cb58-3"></a><span class="st">  </span><span class="kw">head</span>(<span class="dv">4</span>)</span>
<span id="cb58-4"><a href="dplyr-intro.html#cb58-4"></a><span class="co">#&gt; # A tibble: 4 x 2</span></span>
<span id="cb58-5"><a href="dplyr-intro.html#cb58-5"></a><span class="co">#&gt;    year lifeExp</span></span>
<span id="cb58-6"><a href="dplyr-intro.html#cb58-6"></a><span class="co">#&gt;   &lt;int&gt;   &lt;dbl&gt;</span></span>
<span id="cb58-7"><a href="dplyr-intro.html#cb58-7"></a><span class="co">#&gt; 1  1952    28.8</span></span>
<span id="cb58-8"><a href="dplyr-intro.html#cb58-8"></a><span class="co">#&gt; 2  1957    30.3</span></span>
<span id="cb58-9"><a href="dplyr-intro.html#cb58-9"></a><span class="co">#&gt; 3  1962    32.0</span></span>
<span id="cb58-10"><a href="dplyr-intro.html#cb58-10"></a><span class="co">#&gt; 4  1967    34.0</span></span></code></pre></div>
<p>In Worten: “Nimm <code>gapminder</code>, wähle die Variablen <code>year</code> und <code>lifeExp</code> und zeige dann die ersten 4 Zeilen an.”</p>
</div>
<div id="jetzt-nochmal-ein-vergleich-zu-r-standardbefehlen" class="section level2">
<h2><span class="header-section-number">6.5</span> Jetzt nochmal ein Vergleich zu R Standardbefehlen</h2>
<p>Hier sind die Daten für Kambodscha, aber nur bestimmte Variablen:</p>
<div class="sourceCode" id="cb59"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb59-1"><a href="dplyr-intro.html#cb59-1"></a>gapminder <span class="op">%&gt;%</span></span>
<span id="cb59-2"><a href="dplyr-intro.html#cb59-2"></a><span class="st">  </span><span class="kw">filter</span>(country <span class="op">==</span><span class="st"> &quot;Cambodia&quot;</span>) <span class="op">%&gt;%</span></span>
<span id="cb59-3"><a href="dplyr-intro.html#cb59-3"></a><span class="st">  </span><span class="kw">select</span>(year, lifeExp)</span>
<span id="cb59-4"><a href="dplyr-intro.html#cb59-4"></a><span class="co">#&gt; # A tibble: 12 x 2</span></span>
<span id="cb59-5"><a href="dplyr-intro.html#cb59-5"></a><span class="co">#&gt;     year lifeExp</span></span>
<span id="cb59-6"><a href="dplyr-intro.html#cb59-6"></a><span class="co">#&gt;    &lt;int&gt;   &lt;dbl&gt;</span></span>
<span id="cb59-7"><a href="dplyr-intro.html#cb59-7"></a><span class="co">#&gt;  1  1952    39.4</span></span>
<span id="cb59-8"><a href="dplyr-intro.html#cb59-8"></a><span class="co">#&gt;  2  1957    41.4</span></span>
<span id="cb59-9"><a href="dplyr-intro.html#cb59-9"></a><span class="co">#&gt;  3  1962    43.4</span></span>
<span id="cb59-10"><a href="dplyr-intro.html#cb59-10"></a><span class="co">#&gt;  4  1967    45.4</span></span>
<span id="cb59-11"><a href="dplyr-intro.html#cb59-11"></a><span class="co">#&gt;  5  1972    40.3</span></span>
<span id="cb59-12"><a href="dplyr-intro.html#cb59-12"></a><span class="co">#&gt;  6  1977    31.2</span></span>
<span id="cb59-13"><a href="dplyr-intro.html#cb59-13"></a><span class="co">#&gt;  7  1982    51.0</span></span>
<span id="cb59-14"><a href="dplyr-intro.html#cb59-14"></a><span class="co">#&gt;  8  1987    53.9</span></span>
<span id="cb59-15"><a href="dplyr-intro.html#cb59-15"></a><span class="co">#&gt;  9  1992    55.8</span></span>
<span id="cb59-16"><a href="dplyr-intro.html#cb59-16"></a><span class="co">#&gt; 10  1997    56.5</span></span>
<span id="cb59-17"><a href="dplyr-intro.html#cb59-17"></a><span class="co">#&gt; 11  2002    56.8</span></span>
<span id="cb59-18"><a href="dplyr-intro.html#cb59-18"></a><span class="co">#&gt; 12  2007    59.7</span></span></code></pre></div>
<p>und so würde ein typischer R Standardbefehl aussehen:</p>
<div class="sourceCode" id="cb60"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb60-1"><a href="dplyr-intro.html#cb60-1"></a>gapminder[gapminder<span class="op">$</span>country <span class="op">==</span><span class="st"> &quot;Cambodia&quot;</span>, <span class="kw">c</span>(<span class="st">&quot;year&quot;</span>, <span class="st">&quot;lifeExp&quot;</span>)]</span>
<span id="cb60-2"><a href="dplyr-intro.html#cb60-2"></a><span class="co">#&gt; # A tibble: 12 x 2</span></span>
<span id="cb60-3"><a href="dplyr-intro.html#cb60-3"></a><span class="co">#&gt;     year lifeExp</span></span>
<span id="cb60-4"><a href="dplyr-intro.html#cb60-4"></a><span class="co">#&gt;    &lt;int&gt;   &lt;dbl&gt;</span></span>
<span id="cb60-5"><a href="dplyr-intro.html#cb60-5"></a><span class="co">#&gt;  1  1952    39.4</span></span>
<span id="cb60-6"><a href="dplyr-intro.html#cb60-6"></a><span class="co">#&gt;  2  1957    41.4</span></span>
<span id="cb60-7"><a href="dplyr-intro.html#cb60-7"></a><span class="co">#&gt;  3  1962    43.4</span></span>
<span id="cb60-8"><a href="dplyr-intro.html#cb60-8"></a><span class="co">#&gt;  4  1967    45.4</span></span>
<span id="cb60-9"><a href="dplyr-intro.html#cb60-9"></a><span class="co">#&gt;  5  1972    40.3</span></span>
<span id="cb60-10"><a href="dplyr-intro.html#cb60-10"></a><span class="co">#&gt;  6  1977    31.2</span></span>
<span id="cb60-11"><a href="dplyr-intro.html#cb60-11"></a><span class="co">#&gt;  7  1982    51.0</span></span>
<span id="cb60-12"><a href="dplyr-intro.html#cb60-12"></a><span class="co">#&gt;  8  1987    53.9</span></span>
<span id="cb60-13"><a href="dplyr-intro.html#cb60-13"></a><span class="co">#&gt;  9  1992    55.8</span></span>
<span id="cb60-14"><a href="dplyr-intro.html#cb60-14"></a><span class="co">#&gt; 10  1997    56.5</span></span>
<span id="cb60-15"><a href="dplyr-intro.html#cb60-15"></a><span class="co">#&gt; 11  2002    56.8</span></span>
<span id="cb60-16"><a href="dplyr-intro.html#cb60-16"></a><span class="co">#&gt; 12  2007    59.7</span></span></code></pre></div>
<p>der zum gleichen Ergebnis führt. Wir würden sagen, dass der <code>dplyr</code> Befehl deutlich leichter zu lesen ist.</p>
</div>
<div id="pure-predictable-pipeable" class="section level2">
<h2><span class="header-section-number">6.6</span> Pure, predictable, pipeable</h2>
<p>Bisher haben wir nur etwas an der Oberfläche von <code>dplyr</code> gekratzt, trotzdem möchten wir auf ein Schlüsselprinzipien hinweisen, die du vielleicht langsam zu schätzen lernen wirst.</p>
<p>Die Verben (Hauptfunktionen) von dplyr, wie z.B. <code>filter()</code> und <code>select()</code>, sind <a href="https://en.wikipedia.org/wiki/Pure_function">pure functions</a>. Dazu schreibt Hadley Wickham <a href="http://adv-r.had.co.nz/Functions.html">Functions chapter</a> in seinem <a href="http://adv-r.had.co.nz">Advanced R</a> Buch <span class="citation">(<a href="literatur.html#ref-wickham2015a" role="doc-biblioref">2015</a>)</span>:</p>
<blockquote>
<p>The functions that are the easiest to understand and reason about are pure functions: functions that always map the same input to the same output and have no other impact on the workspace. In other words, pure functions have no side effects: they don’t affect the state of the world in any way apart from the value they return.</p>
</blockquote>
<p>Tatsächlich sind diese Verben ein Spezialfall reiner Funktionen: sie nehmen als Input und Output denselben Objekttyp an, i.d.R. ein data frame.</p>
<p>Die Daten sind für all diese Funktionen aus <strong>stets</strong> das erste Inputargument.</p>
<p>Die <code>dplyr</code> Einführung geht weiter im Kapitel <a href="dplyr-single.html#dplyr-single">Mehr zu <code>dplyr</code></a>.</p>
<!--STAT 545 external resources/content-->
<!--Packages: main link-->
<!--Packages: vignettes & CRAN/GitHub links-->
<!--Bookdowns: main link-->
<!--Bookdowns: specific chapters-->
<!--RStudio Cheat Sheets-->
<!--Blog posts, slides, & papers-->
<!--Papers/Books Cited-->
<!--Misc.-->

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="basic-data-care.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="dplyr-single.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": false,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["R4ews.epub"],
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
