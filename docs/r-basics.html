<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Kapitel 2 R Basics und Arbeitsabläufe | R4ews MA0009</title>
<meta name="author" content="Stephan Haug">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.2"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/jquery-3.5.1/jquery-3.5.1.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.5.3/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.5.3/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.2.3.9000/tabs.js"></script><script src="libs/bs3compat-0.2.3.9000/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script><link href="libs/font-awesome-5.1.0/css/all.css" rel="stylesheet">
<link href="libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet">
<script src="libs/kePrint-0.0.1/kePrint.js"></script><link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet">
<script src="anchor-links.js"></script><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-68219208-1"></script><script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
  
    gtag('config', 'UA-68219208-1');
    </script><script src="https://cdn.jsdelivr.net/autocomplete.js/0/autocomplete.jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/mark.js@8.11.1/dist/mark.min.js"></script><!-- CSS -->
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">R4ews MA0009</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html">Willkommen zu R4ews</a></li>
<li class="book-part">R, wie fange ich an</li>
<li><a class="" href="install.html"><span class="header-section-number">1</span> Installieren von R und RStudio</a></li>
<li><a class="active" href="r-basics.html"><span class="header-section-number">2</span> R Basics und Arbeitsabläufe</a></li>
<li class="book-part">Versionskontrolle und R Markdown</li>
<li><a class="" href="version-control.html"><span class="header-section-number">3</span> Git, GitHub, and RStudio</a></li>
<li><a class="" href="r-markdown.html"><span class="header-section-number">4</span> R Markdown</a></li>
<li class="book-part">Datenanalyse Intro</li>
<li><a class="" href="basic-data-care.html"><span class="header-section-number">5</span> Letzte Vorbereitungen …</a></li>
<li><a class="" href="dplyr-intro.html"><span class="header-section-number">6</span> Einführung in dplyr</a></li>
<li><a class="" href="dplyr-single.html"><span class="header-section-number">7</span> Mehr zu dplyr</a></li>
<li><a class="" href="import-export.html"><span class="header-section-number">8</span> Daten I/O</a></li>
<li><a class="" href="tidy.html"><span class="header-section-number">9</span> tidy ?</a></li>
<li class="book-part">ggplot2 Intro</li>
<li><a class="" href="graphics-overview.html"><span class="header-section-number">10</span> Einführung</a></li>
<li><a class="" href="bausteine.html"><span class="header-section-number">11</span> Bausteine</a></li>
<li class="book-part">Noch viel mehr möglich</li>
<li><a class="" href="packages.html"><span class="header-section-number">12</span> Pakete</a></li>
<li><a class="" href="funktionen.html"><span class="header-section-number">13</span> Funktionen</a></li>
<li><a class="" href="envscop.html"><span class="header-section-number">14</span> Environments und Scoping</a></li>
<li class="book-part">Appendix</li>
<li><a class="" href="fragen.html"><span class="header-section-number">15</span> Fragen und Anregungen aus der Übung</a></li>
<li><a class="" href="literatur-3.html">Literatur</a></li>
</ul>

        <div class="book-extra">
          
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="r-basics" class="section level1">
<h1>
<span class="header-section-number">Kapitel 2</span> R Basics und Arbeitsabläufe<a class="anchor" aria-label="anchor" href="#r-basics"><i class="fas fa-link"></i></a>
</h1>
<!--Original content: https://stat545.com/block002_hello-r-workspace-wd-project.html-->
<div id="ein-paar-grundlagen-für-das-arbeiten-mit-r" class="section level2">
<h2>
<span class="header-section-number">2.1</span> Ein paar Grundlagen für das Arbeiten mit R<a class="anchor" aria-label="anchor" href="#ein-paar-grundlagen-f%C3%BCr-das-arbeiten-mit-r"><i class="fas fa-link"></i></a>
</h2>
<blockquote>
<p><strong>Aktueller Stand:</strong> Du hast bereits den Programming Basics Primer absolviert und nun willst du anfangen mit deiner RStudio/R Installation zu arbeiten arbeiten.</p>
</blockquote>
<p>Es geht los indem du RStudio startest. Beachte dabei die Standardfensterbereiche:</p>
<ul>
<li>Console (<em>links</em>)</li>
<li>Environment / History (<em>oben rechts</em>)</li>
<li>Files / Plots / Packages / Help (<em>unten rechtes</em>)</li>
</ul>
<p><strong>Bemerkung:</strong> Die Standardanordnung der Fenster kannst du neben vielen anderen Dingen nach deinen Vorstellungen ändern/anpassen: <a href="https://support.rstudio.com/hc/en-us/articles/200549016-Customizing-RStudio">Customizing RStudio</a>.</p>
<p>Gehen nun in die Konsole um mit R zu interagieren. Erstelle die nachfolgende Zuordnung und schau dir das erstellte Objekt genauer an:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">x</span> <span class="op">&lt;-</span> <span class="fl">3</span> <span class="op">*</span> <span class="fl">4</span>
<span class="va">x</span>
<span class="co">#&gt; [1] 12</span></code></pre></div>
<p>Alle R Befehle, die ein Objekte erstellen (“Zuweisungen”), haben die Form:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">objectName</span> <span class="op">&lt;-</span> <span class="va">value</span></code></pre></div>
<p>Du wirst im weiteren Verlauf noch viele Zuweisungen vornehmen, und es ist tatsächlich etwas mühsam den Operator <code><a href="https://rdrr.io/r/base/assignOps.html">&lt;-</a></code> zu tippen. Sei aber trotzdem nicht faul und benutze <code><a href="https://rdrr.io/r/base/assignOps.html">=</a></code> stattdessen - auch wenn es theoretisch funktionieren würde. Aber später kann die Verwendung von <code><a href="https://rdrr.io/r/base/assignOps.html">=</a></code> für Zuweisungen zu Verwirrung führen. Verwende stattdessen in RStudio die Tastenkombination: <code>Alt</code> + <code><a href="https://rdrr.io/r/base/Arithmetic.html">-</a></code> (Minuszeichen).</p>
<p>Beachte, dass RStudio automatisch <code><a href="https://rdrr.io/r/base/assignOps.html">&lt;-</a></code> mit Leerzeichen umgibt, was eine nützliche Codeformatierung demonstriert. Code ist selbst an einem guten Tag eher schlecht zu lesen. Gönne daher deinen Augen eine Pause und verwende (ausreichend) Leerzeichen.</p>
<p>RStudio bietet viele praktische <a href="https://support.rstudio.com/hc/en-us/articles/200711853-Keyboard-Shortcuts">Tastaturkürzel</a> an. Eine Übersicht erhält man auch mit <code>Alt</code>+<code>Shift</code>+<code>K</code>.</p>
<p>Objektnamen dürfen nicht mit einer Ziffer beginnen und bestimmte andere Zeichen wie ein Komma oder ein Leerzeichen nicht enthalten. Es ist daher ratsam, sich eine <a href="https://en.wikipedia.org/wiki/Snake_case">Konvention zur Abgrenzung von Wörtern</a> in Objektnamen zu überlegen.</p>
<pre><code>i_use_snake_case
other.people.use.periods
evenOthersUseCamelCase</code></pre>
<p>Wir werden stets die erste Variante verwenden.</p>
<p>Führe nun nachfolgenden Befehl aus</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">this_is_a_really_long_name</span> <span class="op">&lt;-</span> <span class="fl">2.5</span></code></pre></div>
<p>In deinem Workspace ist nun das Objekt <code>this_is_a_really_long_name</code> vorhanden. Probiere mithilfe dieses Objekts die Vervollständigungsfunktion von RStudio aus: <em>Gib die ersten paar Zeichen ein, drücke anschließend die TAB Taste, fügen weitere Zeichen hinzu, bis Eindeutigkeit hergestellt ist(wenn sonst wenig in deinem Workspace ist, dann ist das schnell erreicht), und drücke dann die Eingabetaste</em>.</p>
<p>Führe nun den Befehl</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">jenny_rocks</span> <span class="op">&lt;-</span> <span class="fl">2</span> <span class="op">^</span> <span class="fl">3</span></code></pre></div>
<p>aus, um anschließend den Inhalt des Objekts anzuzeigen.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">jennyrocks</span>
<span class="co">#&gt; Error in eval(expr, envir, enclos): object 'jennyrocks' not found</span>
<span class="va">jeny_rocks</span>
<span class="co">#&gt; Error in eval(expr, envir, enclos): object 'jeny_rocks' not found</span></code></pre></div>
<p>Die Objekte <code>jennyrocks</code> und <code>jeny_rocks</code> sind natürlich nicht vorhanden und somit führen beide Befehle zu einer Fehlermeldung. Man muss also absolut exakt sein mit seinen Befehlen.</p>
<p>R verfügt über eine überwältigende Sammlung eingebauter Funktionen, die nach folgendem Schema aufgerufen werden:</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="r-basics.html#cb12-1"></a><span class="kw">functionName</span>(<span class="dt">arg1 =</span> val1, <span class="dt">arg2 =</span> val2, and so on)</span></code></pre></div>
<p>Als nächstes wollen wir die Funktion <code><a href="https://rdrr.io/r/base/seq.html">seq()</a></code> verwenden, die reguläre Zahlensequenzen erzeugt. Dabei wollen wir noch ein weiteres hilfreiches Feature von RStudio demonstrieren.</p>
<p>Tippe <code>se</code> und drücke dann die TAB Taste. In einem Pop-Up Fenster werden dir mögliche Vervollständigungen angezeigt. Der Befehl <code><a href="https://rdrr.io/r/base/seq.html">seq()</a></code> kann dann durch weiteres Tippen oder über die Auswahlmöglichkeit (Pfeiltasten nach oben/unten) festgelegt werden. Zu jeder Auswahlmöglichkeit wird auch noch eine Kurzform der entsprechenden Hilfeseite angezeigt. Fügt man jetzt die öffnende runde Klammer hinzu, so wird die zugehörige schließende runde Klammer automatisch hinzugefügt. Tippe anschließend <code>1, 10</code> (das geschieht automatisch innerhalb der runden Klammern) und Return. RStudio beendet auch den Klammerausdruck für dich. IDEs sind großartig.</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">10</span><span class="op">)</span>
<span class="co">#&gt;  [1]  1  2  3  4  5  6  7  8  9 10</span></code></pre></div>
<p>Der letzte Befehl zeigt auch ganz gut, wie R Funktionsargumente auflöst. Sie können immer in der Form <code>Name = Wert</code> angeben werden. Aber der Name muss nicht angegeben werden, wie man sieht. In solchen Fällen versucht R, nach der Position aufzulösen. So wird oben angenommen, dass wir eine Sequenz bei 1 starten wollen, also <code>from = 1</code>, und diese bis 10 laufen soll, daher <code>to = 10</code>. Da wir keine Schrittweite angegeben haben, wird der Standardwert für <code>by</code> verwendet, der in diesem Fall gleich 1 ist.</p>
<p>Bei Funktionen, die man oft aufruft, kann man gut diese Auflösung nach Position für das erste und vielleicht auch das zweite Argument verwenden. Danach ist es aber ratsam immer mit <code>Name = Wert</code> zu arbeiten um falsche Zuweisungen (verschiedene Argumente können vom gleichen Typ sein, sodass eine falsche Zuweisung nicht automatisch zu einer Fehlermeldung führt) zu vermeiden.</p>
<p>Analog zur Unterstützung mit den runden Klammern, werden auch schließende Anführungszeichen automatisch ergänzt, wie man in folgendem Beispiel sieht.</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">yo</span> <span class="op">&lt;-</span> <span class="st">"hello world"</span></code></pre></div>
<p>Nach einer Zuweisung wird der entsprechende Wert des Objekts nicht angezeigt. Daher ist man vielleicht dazu geneigt das Objekt gleich erneut aufzurufen</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">y</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">10</span><span class="op">)</span>
<span class="va">y</span>
<span class="co">#&gt;  [1]  1  2  3  4  5  6  7  8  9 10</span></code></pre></div>
<p>Diese typische Aktion kann verkürzt werden, indem die Zuweisung in Klammern gesetzt wird, wodurch die Zuweisung und ein Befehl “Drucke auf den Bildschirm” erfolgen.</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="op">(</span><span class="va">y</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">10</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt;  [1]  1  2  3  4  5  6  7  8  9 10</span></code></pre></div>
<p>Nicht alle Funktionen haben (oder erfordern) Argumente:</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/date.html">date</a></span><span class="op">(</span><span class="op">)</span>
<span class="co">#&gt; [1] "Fri Jan 22 21:29:58 2021"</span></code></pre></div>
<p>Schau dir nun deinen Workspace an - im oberen rechten Fensterbereich (bei Standardeinstellung) siehst du unter Environment den Inhalt deines Workspaces. Der Workspace ist der Ort, an dem sich benutzerdefinierte Objekte ansammeln. Eine Liste dieser Objekte kannst du auch mit diesen Befehlen erhalten:</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/ls.html">objects</a></span><span class="op">(</span><span class="op">)</span>
<span class="co">#&gt; [1] "check_quietly"              "install_quietly"           </span>
<span class="co">#&gt; [3] "jenny_rocks"                "pretty_install"            </span>
<span class="co">#&gt; [5] "shhh_check"                 "this_is_a_really_long_name"</span>
<span class="co">#&gt; [7] "x"                          "y"                         </span>
<span class="co">#&gt; [9] "yo"</span>
<span class="fu"><a href="https://rdrr.io/r/base/ls.html">ls</a></span><span class="op">(</span><span class="op">)</span>
<span class="co">#&gt; [1] "check_quietly"              "install_quietly"           </span>
<span class="co">#&gt; [3] "jenny_rocks"                "pretty_install"            </span>
<span class="co">#&gt; [5] "shhh_check"                 "this_is_a_really_long_name"</span>
<span class="co">#&gt; [7] "x"                          "y"                         </span>
<span class="co">#&gt; [9] "yo"</span></code></pre></div>
<p>Wenn du nun das Objekt mit dem Namen <code>y</code> entfernen möchtest, kannst du dies wie folgt machen:</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/rm.html">rm</a></span><span class="op">(</span><span class="va">y</span><span class="op">)</span></code></pre></div>
<p>Alles löschen kannst du mit dem Befehl</p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/rm.html">rm</a></span><span class="op">(</span>list <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/ls.html">ls</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<p>oder du klickst auf den Besen im Environment Fenster von RStudio.</p>
</div>
<div id="workspace-und-working-directory" class="section level2">
<h2>
<span class="header-section-number">2.2</span> Workspace und working directory<a class="anchor" aria-label="anchor" href="#workspace-und-working-directory"><i class="fas fa-link"></i></a>
</h2>
<p>Ziemlich schnell wird der Fall eintreten, dass du mit deiner R Arbeit (z.B. Bearbeitung eines Hausaufgaben Projekts) noch nicht fertig bist obwohl es Zeit wird R zu beenden. Natürlich willst du aber zu einem späteren Zeitpunkt mit der Analyse weitermachen wo du aufgehört hast.</p>
<p>Etwas später wird es so ein, dass du Daten in R einlesen und anschließend numerische Ergebnisse erzeugen willst, die du dann schließlich auch wieder exportieren willst.</p>
<p>Und nochmal später wird es (vielleicht) so sein, dass du in R gleichzeitig an mehreren Analysen arbeitest, die du aber unbedingt getrennt halten willst/sollst.</p>
<p>Um diese Situationen zu bewältigen, musst du zwei Entscheidungen treffen:</p>
<ul>
<li><p>Was betrachtest du an deiner Analyse als “<em>Ergebnis</em>”, d.h. was wirst du dauerhaft speichern?</p></li>
<li><p>Wo “<em>lebt</em>” deine Analyse?</p></li>
</ul>
<div id="workspace-.rdata" class="section level3">
<h3>
<span class="header-section-number">2.2.1</span> Workspace, <code>.RData</code><a class="anchor" aria-label="anchor" href="#workspace-.rdata"><i class="fas fa-link"></i></a>
</h3>
<p>Du startest gerade deine R Reise. Daher wäre es Okay, wenn du deinen Workspace als die “<em>Ergebnis</em>” deiner Analyse betrachtest. <em>Ziemlich bald</em>, solltest du aber davon (vielleicht durch uns) überzeugt sein, dass deine R Skripte das Ergebnis deiner Analyse sind (in beiden Fällen hängt das Ergebnis möglicherweise natürlich auch von Input Daten ab).<br>
Die Daten zusammen mit deinem R Code erlauben es dir jederzeit <em>alle</em> Ergebnisse zu reproduzieren und das ist die entscheidende Eigenschaft.</p>
<p>Betrachtest du deinen Workspace als das Ergebnis deiner Analyse, dann musst du bei einem erneuten Analysedurchlauf (leicht veränderte Aufgabenstellung, …) entweder erneut eine Menge Tippen (was natürlich fehleranfällig ist) oder deine R History nach den nötigen Befehlen durchwühlen. Anstatt <a href="https://support.rstudio.com/hc/en-us/articles/200526217-Command-History">“becoming an expert on managing the R history”</a>, solltest du deinen R Code sauber in ein Skript speichern, sodass er dir für weitere Analysen zur Verfügung steht.</p>
<p>Der Workspace Ansatz wird “begünstigt” durch die Tatsache, dass RStudio beim Beenden der Session automatisch wissen will ob der Workspace gespeichert werden soll. Das wollen wir mal ausprobieren.</p>
<p>Beende R/RStudio, entweder über das Menü oder du tippst <code><a href="https://rdrr.io/r/base/quit.html">q()</a></code> in die Konsole. Dann erhältst du eine Eingabeaufforderung wie diese:</p>
<blockquote>
<p>Save workspace image to ~/.Rdata?</p>
</blockquote>
<p><em>Merke dir in welchem Verzeichnis die Datei gespeichert wird</em> und dann klick auf <code>Save</code>.</p>
<p>Gehe in das Verzeichnis mit dem gespeicherten Workspace Image und kontrolliere ob die Datei <code>.RData</code> vorhanden ist. Du wirst dort auch die Datei <code>.Rhistory</code> finden, die alle Befehle deiner letzten Sitzung enthält.</p>
<p>Nun starte erneut RStudio. In der Konsole siehst du einen Befehl, der ungefähr so aussieht</p>
<pre><code>[Workspace loaded from ~/.RData]</code></pre>
<p>und angibt, dass dein gespeicherter Workspace wiederhergestellt wurde. Unter Environment solltest du die gleichen Objekte wie zuvor sehen. History enthält die gespeicherten Befehle aus der letzten Sitzung. Aber diese Art, analytische Arbeit zu beginnen und zu beenden, würde so nicht lange gut gehen. Daher fangen wir gleich mal damit an die automatische Nachfrage nach dem Speichern des Workspaces abzuwählen. Öffne dazu die Global Options (unter Tools)</p>
<div class="inline-figure"><img src="img/global_options.png" width="324"></div>
<p>und setze <code>Save workspace to .RData on exit</code> auf <code>Never</code>. Nun wirst du <em>nie mehr</em> gefragt ob du deinen Workspace speichern willst. Sehr wohl wirst du aber weiterhin gefragt ob du ungesicherte Änderungen in deinem R Skript speichern willst, sobald du RStudio beenden willst.</p>
</div>
<div id="working-directory" class="section level3">
<h3>
<span class="header-section-number">2.2.2</span> Working directory<a class="anchor" aria-label="anchor" href="#working-directory"><i class="fas fa-link"></i></a>
</h3>
<p>Jeder Prozess, der auf deinem Computer läuft, hat einen Bezug zu seinem “Arbeitsverzeichnis”. In R ist dies der Ort, an dem R standardmäßig nach Dateien suchen würde oder der Ort wo alle Dateien, die du auf die Festplatte schreiben willst, abgelegt werden. Möglicherweise ist dein aktuelles Arbeitsverzeichnis das Verzeichnis, das du oben gerade untersucht hast um die <code>.RData</code> Datei zu finden.</p>
<p>Du kannst dir dein aktuelles Arbeitsverzeichnis anzeigen lassen mit dem Befehl</p>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/getwd.html">getwd</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<p>Aber es wird auch oben an der RStudio Konsole direkt angezeigt.</p>
<p>Es wäre schon, wenn das Arbeitsverzeichnis in Abhängigkeit vom jeweils zu bearbeitenden Projekt leicht sinnvoll gesetzt werden könnte. Im nächsten Abschnitt sehen wir, dass genau das möglich ist.</p>
</div>
</div>
<div id="rprojs" class="section level2">
<h2>
<span class="header-section-number">2.3</span> RStudio Projects<a class="anchor" aria-label="anchor" href="#rprojs"><i class="fas fa-link"></i></a>
</h2>
<p>Alle zu einem Projekt gehörenden Dateien - Eingabedaten, R Skripte, Analyseergebnisse, Grafiken - an einem Ort zu bündeln, ist eine so weise und gängige Praxis, dass RStudio über seine <a href="https://support.rstudio.com/hc/en-us/articles/200526207-Using-Projects"><em>Projects</em></a> genau da ermöglicht.</p>
<p>Lass uns ein Projekt für den Kurs anlegen. Dazu wählen wir oben rechts im RStudio Fenster <em>Project: (None) -&gt; New Project</em></p>
<div class="inline-figure"><img src="img/project_1.png" width="400"></div>
<p>Danach wählen wir <em>New Directory -&gt; New Project</em> und geben abschließend einen passenden Verzeichnisnamen ein (dabei beachten wir den Speicherort des neuen Verzeichnisses)</p>
<p><img src="img/project_2.png" width="33%"><img src="img/project_3.png" width="33%"><img src="img/project_4.png" width="33%"></p>
<p>Wir nehmen nun an, dass du ein RStudio Projekt angelegt und dieses auch geöffnet hast. Dann benötigen wir als Nächstes ein wenig R Code. Dazu tippen wir den unten stehenden Code (ausnahmsweise) in die Konsole</p>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">a</span> <span class="op">&lt;-</span> <span class="fl">2</span>
<span class="va">b</span> <span class="op">&lt;-</span> <span class="op">-</span><span class="fl">3</span>
<span class="va">sig_sq</span> <span class="op">&lt;-</span> <span class="fl">0.5</span>
<span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html">runif</a></span><span class="op">(</span><span class="fl">40</span><span class="op">)</span>
<span class="va">y</span> <span class="op">&lt;-</span> <span class="va">a</span> <span class="op">+</span> <span class="va">b</span> <span class="op">*</span> <span class="va">x</span> <span class="op">+</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html">rnorm</a></span><span class="op">(</span><span class="fl">40</span>, sd <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/MathFun.html">sqrt</a></span><span class="op">(</span><span class="va">sig_sq</span><span class="op">)</span><span class="op">)</span>
<span class="op">(</span><span class="va">x_n</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; [1] 0.515</span>
<span class="fu"><a href="https://rdrr.io/r/base/write.html">write</a></span><span class="op">(</span><span class="va">x_n</span>, <span class="st">"mittelwert_x.txt"</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/abline.html">abline</a></span><span class="op">(</span><span class="va">a</span>, <span class="va">b</span>, col <span class="op">=</span> <span class="st">"purple"</span><span class="op">)</span></code></pre></div>
<div class="inline-figure"><img src="02_r-basics_files/figure-html/toy-line-1.png" width="672"></div>
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/grDevices/dev2.html">dev.print</a></span><span class="op">(</span><span class="va">pdf</span>, <span class="st">"scatterplot.pdf"</span><span class="op">)</span>
<span class="co">#&gt; quartz_off_screen </span>
<span class="co">#&gt;                 2</span></code></pre></div>
<p>Jetzt nehmen wir mal an das wäre ein guter Start einer Analyse, die wir durchführen wollen. Daher würdest du das Ergebnis gerne abspeichern. Unter History kannst du alle obigen Befehle markieren und anschließend “To Source” klicken. Daraufhin wird sich ein neues Fenster mit einem R Skript - das natürlich die Befehle enthält - öffnen. Das Skript kannst du abspeichern und standardmäßig wird es in deinen Projektordner gespeichert werden (aber natürlich könntest man den Speicherort an dieser Stelle auch ändern/frei wählen).</p>
<p>Nun beende das Projekt (<em>Close Project</em> in der rechten oberen Ecke). Wenn du willst, kannst du dir auch den Inhalt deines Projektordners anschauen, z.B. das PDF öffnen.</p>
<p>Danach öffnest du das Projekt wieder. Dir wird auffallen, dass alles in dem Zustand ist, wie du das Projekt verlassen hast, z.B. Objekte im Arbeitsbereich, die Befehlshistorie, welche Dateien zur Bearbeitung geöffnet sind, wo wir uns im Dateisystembrowser befinden, das Arbeitsverzeichnis für den R-Prozess usw. All dies sind gute Dinge.</p>
<p>Nun ändern ein paar Dinge an deinem Code. Sinnvoll wäre z.B. am Anfang die Stichprobenlänge <code>n</code> zu definieren und z.B. auf <code>n &lt;- 40</code> setzen. Dann
sollten alle festen 40er Werte durch <code>n</code> ersetzt werden. Anschließend kannst
du noch ein paar andere Dinge ändern, z.B. die Steigung <code>b</code>, die Farbe der Linie … was auch immer. Übe nun die verschiedenen Möglichkeiten, den Code erneut auszuführen:</p>
<ul>
<li><p>Führe Zeile für Zeile aus indem du entweder das Tastenkürzel <em>Command + Enter</em> oder die Maus (auf “Run” klicken in der oberen rechten Ecke des Editor-Fensters) verwendest.</p></li>
<li><p>Das gesamte Dokument durchlaufen lassen per Tastenkürzel <em>Shift + Command +S</em> oder Maus (klicken auf “Source” in der oberen rechten Ecke des Editor-Fensters)</p></li>
</ul>
<p>Anschließend kannst du dir das PDF anschauen und die Änderungen bewundern.</p>
<p>Eines Tages wirst du vor der Aufgabe stehen eine Grafik neu zu gestalten oder einfach nur verstehen wollen, woher sie stammt. Wenn du (relevante) Grafiken in einer Datei (<strong>mit R Code und niemals über die Maus oder die Zwischenablage</strong>) speicherst und dabei sinnvolle Dateinamen/Speicherorte (innerhalb des zugehörigen Projekts) benutzt, werden dich solche Aufgaben nie vor große Probleme stellen.</p>
</div>
<div id="zuletzt-noch" class="section level2">
<h2>
<span class="header-section-number">2.4</span> Zuletzt noch<a class="anchor" aria-label="anchor" href="#zuletzt-noch"><i class="fas fa-link"></i></a>
</h2>
<p>Es ist üblich, R-Skripte mit einem <code>.R</code> oder <code>.r</code> Suffix zu speichern. Befolge diese Konvention, außer du hast einen sehr außergewöhnlichen Grund, es nicht zu tun.</p>
<p>Kommentare beginnen mit einem oder mehreren <code>#</code>-Symbolen. Verwende Kommentare.. RStudio hilft dir dabei ausgewählte Zeilen mit Ctrl+Shift+C (Windows und Linux) oder Command+Shif+C (Mac) zu kommentieren oder vorhandene Kommentare wieder zu entfernen.</p>
<p>Dieser Workflow wird dir in Zukunft gute Dienste leisten:</p>
<ul>
<li>Erstelle ein RStudio Projekt für ein analytisches Projekt</li>
<li>Speichere alle Input Dateien innerhalb des Projekts (wir werden bald über den Import sprechen)</li>
<li>Bewahre deine Skripte dort auf; bearbeite sie und führen sie dort aus</li>
<li>Speichere den Output innerhalb des Projekts (wie z.B. das PDF im letzten Beispiel)</li>
</ul>
<p>Du solltest es vermeiden die Maus für Teile deines Workflows zu verwenden, wie z.B. das Laden eines Datensatzes oder das Speichern einer Grafik. Das ist sehr wichtig für die Reproduzierbarkeit und um im Nachhinein feststellen zu können, wie eine numerische Tabelle oder eine PDF-Datei tatsächlich erzeugt wurde (eine Suche auf der lokalen Festplatte nach dem entsprechenden Dateinamen unter den <code>.R</code>-Dateien führt zum entsprechenden Skript).</p>
<!--STAT 545 external resources/content-->
<!--Packages: main link-->
<!--Packages: vignettes & CRAN/GitHub links-->
<!--Bookdowns: main link-->
<!--Bookdowns: specific chapters-->
<!--RStudio Cheat Sheets-->
<!--Blog posts, slides, & papers-->
<!--Papers/Books Cited-->
<!--Misc.-->

</div>
</div>



  <div class="chapter-nav">
<div class="prev"><a href="install.html"><span class="header-section-number">1</span> Installieren von R und RStudio</a></div>
<div class="next"><a href="version-control.html"><span class="header-section-number">3</span> Git, GitHub, and RStudio</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#r-basics"><span class="header-section-number">2</span> R Basics und Arbeitsabläufe</a></li>
<li><a class="nav-link" href="#ein-paar-grundlagen-f%C3%BCr-das-arbeiten-mit-r"><span class="header-section-number">2.1</span> Ein paar Grundlagen für das Arbeiten mit R</a></li>
<li>
<a class="nav-link" href="#workspace-und-working-directory"><span class="header-section-number">2.2</span> Workspace und working directory</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#workspace-.rdata"><span class="header-section-number">2.2.1</span> Workspace, .RData</a></li>
<li><a class="nav-link" href="#working-directory"><span class="header-section-number">2.2.2</span> Working directory</a></li>
</ul>
</li>
<li><a class="nav-link" href="#rprojs"><span class="header-section-number">2.3</span> RStudio Projects</a></li>
<li><a class="nav-link" href="#zuletzt-noch"><span class="header-section-number">2.4</span> Zuletzt noch</a></li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
          
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>R4ews MA0009</strong>" was written by Stephan Haug. </p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer><!-- dynamically load mathjax for compatibility with self-contained --><script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>
</html>
